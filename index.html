<!doctype html>
<html class="no-js" lang="en" data-content_root="">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="SymForce Home" />
<meta property="og:type" content="website" />
<meta property="og:url" content="index.html" />
<meta property="og:site_name" content="symforce" />
<meta property="og:description" content="SymForce SymForce SymForce is a fast symbolic computation and code generation library for robotics applications like computer vision, state estimation, motion planning, and controls. It combines th..." />
<meta property="og:image" content="https://symforce.org/docs/static/images/symforce_banner.png" />
<meta property="og:image:alt" content="symforce" />
<meta name="description" content="SymForce SymForce SymForce is a fast symbolic computation and code generation library for robotics applications like computer vision, state estimation, motion planning, and controls. It combines th..." />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="Development Guide" href="development.html" />

    <link rel="shortcut icon" href="_static/favicon.ico"/><!-- Generated with Sphinx 7.1.2 and Furo 2024.01.29 -->
        <title>SymForce</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=36a5483c" />
    <link rel="stylesheet" type="text/css" href="_static/css/custom.css?v=1ddbf0f8" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="#"><div class="brand">SymForce</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="#">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="_static/images/symforce vertical dark.svg" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="_static/images/symforce vertical.svg" alt="Dark Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="development.html">Development Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tutorials/sympy_tutorial.html">SymPy Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/geometry_tutorial.html">Geometry Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/ops_tutorial.html">Ops Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/cameras_tutorial.html">Cameras Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/values_tutorial.html">Values Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/codegen_tutorial.html">Codegen Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/optimization_tutorial.html">Optimization Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/epsilon_tutorial.html">Epsilon Tutorial</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="examples/bundle_adjustment/README.html">Bundle Adjustment</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/bundle_adjustment_fixed_size/README.html">Fixed Size Bundle Adjustment</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/bundle_adjustment_in_the_large/README.html">Bundle-Adjustment-in-the-Large</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/custom_factor_generation/README.html">Custom Factor Generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/robot_2d_localization/README.html">Robot 2D Localization</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/robot_3d_localization/README.html">Robot 3D Localization</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">symforce Reference</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="api/symforce.html">symforce package</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of symforce package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="api/symforce.benchmarks.html">symforce.benchmarks package</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of symforce.benchmarks package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="api/symforce.benchmarks.inverse_compose_jacobian.html">symforce.benchmarks.inverse_compose_jacobian package</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of symforce.benchmarks.inverse_compose_jacobian package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="api/symforce.benchmarks.inverse_compose_jacobian.generate_inverse_compose_jacobian.html">symforce.benchmarks.inverse_compose_jacobian.generate_inverse_compose_jacobian module</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="api/symforce.benchmarks.matrix_multiplication.html">symforce.benchmarks.matrix_multiplication package</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of symforce.benchmarks.matrix_multiplication package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="api/symforce.benchmarks.matrix_multiplication.generate_matrix_multiplication_benchmark.html">symforce.benchmarks.matrix_multiplication.generate_matrix_multiplication_benchmark module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.benchmarks.robot_3d_localization.html">symforce.benchmarks.robot_3d_localization package</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.benchmarks.run_benchmarks.html">symforce.benchmarks.run_benchmarks module</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="api/symforce.cam.html">symforce.cam package</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of symforce.cam package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.cam.atan_camera_cal.html">symforce.cam.atan_camera_cal module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.cam.camera.html">symforce.cam.camera module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.cam.camera_cal.html">symforce.cam.camera_cal module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.cam.camera_util.html">symforce.cam.camera_util module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.cam.double_sphere_camera_cal.html">symforce.cam.double_sphere_camera_cal module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.cam.equirectangular_camera_cal.html">symforce.cam.equirectangular_camera_cal module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.cam.linear_camera_cal.html">symforce.cam.linear_camera_cal module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.cam.polynomial_camera_cal.html">symforce.cam.polynomial_camera_cal module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.cam.posed_camera.html">symforce.cam.posed_camera module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.cam.spherical_camera_cal.html">symforce.cam.spherical_camera_cal module</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="api/symforce.codegen.html">symforce.codegen package</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of symforce.codegen package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="api/symforce.codegen.backends.html">symforce.codegen.backends package</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of symforce.codegen.backends package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4 has-children"><a class="reference internal" href="api/symforce.codegen.backends.cpp.html">symforce.codegen.backends.cpp package</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of symforce.codegen.backends.cpp package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="api/symforce.codegen.backends.cpp.cpp_code_printer.html">symforce.codegen.backends.cpp.cpp_code_printer module</a></li>
<li class="toctree-l5"><a class="reference internal" href="api/symforce.codegen.backends.cpp.cpp_config.html">symforce.codegen.backends.cpp.cpp_config module</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="api/symforce.codegen.backends.cuda.html">symforce.codegen.backends.cuda package</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of symforce.codegen.backends.cuda package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="api/symforce.codegen.backends.cuda.cuda_code_printer.html">symforce.codegen.backends.cuda.cuda_code_printer module</a></li>
<li class="toctree-l5"><a class="reference internal" href="api/symforce.codegen.backends.cuda.cuda_config.html">symforce.codegen.backends.cuda.cuda_config module</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="api/symforce.codegen.backends.python.html">symforce.codegen.backends.python package</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of symforce.codegen.backends.python package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="api/symforce.codegen.backends.python.python_code_printer.html">symforce.codegen.backends.python.python_code_printer module</a></li>
<li class="toctree-l5"><a class="reference internal" href="api/symforce.codegen.backends.python.python_config.html">symforce.codegen.backends.python.python_config module</a></li>
</ul>
</li>
<li class="toctree-l4 has-children"><a class="reference internal" href="api/symforce.codegen.backends.pytorch.html">symforce.codegen.backends.pytorch package</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of symforce.codegen.backends.pytorch package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="api/symforce.codegen.backends.pytorch.pytorch_code_printer.html">symforce.codegen.backends.pytorch.pytorch_code_printer module</a></li>
<li class="toctree-l5"><a class="reference internal" href="api/symforce.codegen.backends.pytorch.pytorch_config.html">symforce.codegen.backends.pytorch.pytorch_config module</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.codegen.cam_package_codegen.html">symforce.codegen.cam_package_codegen module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.codegen.codegen.html">symforce.codegen.codegen module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.codegen.codegen_config.html">symforce.codegen.codegen_config module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.codegen.codegen_util.html">symforce.codegen.codegen_util module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.codegen.format_util.html">symforce.codegen.format_util module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.codegen.geo_factors_codegen.html">symforce.codegen.geo_factors_codegen module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.codegen.geo_package_codegen.html">symforce.codegen.geo_package_codegen module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.codegen.lcm_types_codegen.html">symforce.codegen.lcm_types_codegen module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.codegen.ops_codegen_util.html">symforce.codegen.ops_codegen_util module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.codegen.similarity_index.html">symforce.codegen.similarity_index module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.codegen.slam_factors_codegen.html">symforce.codegen.slam_factors_codegen module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.codegen.sym_util_package_codegen.html">symforce.codegen.sym_util_package_codegen module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.codegen.template_util.html">symforce.codegen.template_util module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.codegen.types_package_codegen.html">symforce.codegen.types_package_codegen module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.codegen.values_codegen.html">symforce.codegen.values_codegen module</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="api/symforce.examples.html">symforce.examples package</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle navigation of symforce.examples package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.examples.bundle_adjustment.html">symforce.examples.bundle_adjustment package</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="api/symforce.examples.bundle_adjustment_fixed_size.html">symforce.examples.bundle_adjustment_fixed_size package</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle navigation of symforce.examples.bundle_adjustment_fixed_size package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="api/symforce.examples.bundle_adjustment_fixed_size.build_values.html">symforce.examples.bundle_adjustment_fixed_size.build_values module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/symforce.examples.bundle_adjustment_fixed_size.generate_fixed_problem.html">symforce.examples.bundle_adjustment_fixed_size.generate_fixed_problem module</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="api/symforce.examples.bundle_adjustment_in_the_large.html">symforce.examples.bundle_adjustment_in_the_large package</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle navigation of symforce.examples.bundle_adjustment_in_the_large package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="api/symforce.examples.bundle_adjustment_in_the_large.bundle_adjustment_in_the_large.html">symforce.examples.bundle_adjustment_in_the_large.bundle_adjustment_in_the_large module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/symforce.examples.bundle_adjustment_in_the_large.download_dataset.html">symforce.examples.bundle_adjustment_in_the_large.download_dataset module</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="api/symforce.examples.custom_factor_generation.html">symforce.examples.custom_factor_generation package</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle navigation of symforce.examples.custom_factor_generation package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="api/symforce.examples.custom_factor_generation.factor_residuals.html">symforce.examples.custom_factor_generation.factor_residuals module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/symforce.examples.custom_factor_generation.generate_factors.html">symforce.examples.custom_factor_generation.generate_factors module</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="api/symforce.examples.robot_2d_localization.html">symforce.examples.robot_2d_localization package</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle navigation of symforce.examples.robot_2d_localization package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="api/symforce.examples.robot_2d_localization.plotting.html">symforce.examples.robot_2d_localization.plotting module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/symforce.examples.robot_2d_localization.robot_2d_localization.html">symforce.examples.robot_2d_localization.robot_2d_localization module</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="api/symforce.examples.robot_3d_localization.html">symforce.examples.robot_3d_localization package</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><div class="visually-hidden">Toggle navigation of symforce.examples.robot_3d_localization package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="api/symforce.examples.robot_3d_localization.plotting.html">symforce.examples.robot_3d_localization.plotting module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/symforce.examples.robot_3d_localization.robot_3d_localization.html">symforce.examples.robot_3d_localization.robot_3d_localization module</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="api/symforce.geo.html">symforce.geo package</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><div class="visually-hidden">Toggle navigation of symforce.geo package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="api/symforce.geo.unsupported.html">symforce.geo.unsupported package</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" role="switch" type="checkbox"/><label for="toctree-checkbox-19"><div class="visually-hidden">Toggle navigation of symforce.geo.unsupported package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="api/symforce.geo.unsupported.pose2_se2.html">symforce.geo.unsupported.pose2_se2 module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/symforce.geo.unsupported.pose3_se3.html">symforce.geo.unsupported.pose3_se3 module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.geo.complex.html">symforce.geo.complex module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.geo.dual_quaternion.html">symforce.geo.dual_quaternion module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.geo.matrix.html">symforce.geo.matrix module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.geo.pose2.html">symforce.geo.pose2 module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.geo.pose3.html">symforce.geo.pose3 module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.geo.quaternion.html">symforce.geo.quaternion module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.geo.rot2.html">symforce.geo.rot2 module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.geo.rot3.html">symforce.geo.rot3 module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.geo.unit3.html">symforce.geo.unit3 module</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="api/symforce.internal.html">symforce.internal package</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" role="switch" type="checkbox"/><label for="toctree-checkbox-20"><div class="visually-hidden">Toggle navigation of symforce.internal package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.internal.symbolic.html">symforce.internal.symbolic module</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="api/symforce.ops.html">symforce.ops package</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" role="switch" type="checkbox"/><label for="toctree-checkbox-21"><div class="visually-hidden">Toggle navigation of symforce.ops package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="api/symforce.ops.impl.html">symforce.ops.impl package</a><input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" role="switch" type="checkbox"/><label for="toctree-checkbox-22"><div class="visually-hidden">Toggle navigation of symforce.ops.impl package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="api/symforce.ops.impl.abstract_storage_ops.html">symforce.ops.impl.abstract_storage_ops module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/symforce.ops.impl.abstract_vector_group_ops.html">symforce.ops.impl.abstract_vector_group_ops module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/symforce.ops.impl.abstract_vector_lie_group_ops.html">symforce.ops.impl.abstract_vector_lie_group_ops module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/symforce.ops.impl.array_lie_group_ops.html">symforce.ops.impl.array_lie_group_ops module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/symforce.ops.impl.array_storage_ops.html">symforce.ops.impl.array_storage_ops module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/symforce.ops.impl.class_group_ops.html">symforce.ops.impl.class_group_ops module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/symforce.ops.impl.class_lie_group_ops.html">symforce.ops.impl.class_lie_group_ops module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/symforce.ops.impl.class_storage_ops.html">symforce.ops.impl.class_storage_ops module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/symforce.ops.impl.databuffer_storage_ops.html">symforce.ops.impl.databuffer_storage_ops module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/symforce.ops.impl.dataclass_group_ops.html">symforce.ops.impl.dataclass_group_ops module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/symforce.ops.impl.dataclass_lie_group_ops.html">symforce.ops.impl.dataclass_lie_group_ops module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/symforce.ops.impl.dataclass_storage_ops.html">symforce.ops.impl.dataclass_storage_ops module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/symforce.ops.impl.nonetype_lie_group_ops.html">symforce.ops.impl.nonetype_lie_group_ops module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/symforce.ops.impl.scalar_lie_group_ops.html">symforce.ops.impl.scalar_lie_group_ops module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/symforce.ops.impl.sequence_group_ops.html">symforce.ops.impl.sequence_group_ops module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/symforce.ops.impl.sequence_lie_group_ops.html">symforce.ops.impl.sequence_lie_group_ops module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/symforce.ops.impl.sequence_storage_ops.html">symforce.ops.impl.sequence_storage_ops module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/symforce.ops.impl.sym_class_lie_group_ops.html">symforce.ops.impl.sym_class_lie_group_ops module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/symforce.ops.impl.vector_class_lie_group_ops.html">symforce.ops.impl.vector_class_lie_group_ops module</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="api/symforce.ops.interfaces.html">symforce.ops.interfaces package</a><input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" role="switch" type="checkbox"/><label for="toctree-checkbox-23"><div class="visually-hidden">Toggle navigation of symforce.ops.interfaces package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="api/symforce.ops.interfaces.group.html">symforce.ops.interfaces.group module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/symforce.ops.interfaces.lie_group.html">symforce.ops.interfaces.lie_group module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/symforce.ops.interfaces.storage.html">symforce.ops.interfaces.storage module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.ops.group_ops.html">symforce.ops.group_ops module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.ops.lie_group_ops.html">symforce.ops.lie_group_ops module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.ops.ops.html">symforce.ops.ops module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.ops.storage_ops.html">symforce.ops.storage_ops module</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="api/symforce.opt.html">symforce.opt package</a><input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" role="switch" type="checkbox"/><label for="toctree-checkbox-24"><div class="visually-hidden">Toggle navigation of symforce.opt package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="api/symforce.opt.objectives.html">symforce.opt.objectives package</a><input class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" role="switch" type="checkbox"/><label for="toctree-checkbox-25"><div class="visually-hidden">Toggle navigation of symforce.opt.objectives package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="api/symforce.opt.objectives.min_max_barrier_objective.html">symforce.opt.objectives.min_max_barrier_objective module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/symforce.opt.objectives.norm_barrier_objective.html">symforce.opt.objectives.norm_barrier_objective module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/symforce.opt.objectives.prior_value_objective.html">symforce.opt.objectives.prior_value_objective module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.opt.barrier_functions.html">symforce.opt.barrier_functions module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.opt.factor.html">symforce.opt.factor module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.opt.noise_models.html">symforce.opt.noise_models module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.opt.numeric_factor.html">symforce.opt.numeric_factor module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.opt.objective.html">symforce.opt.objective module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.opt.optimization_problem.html">symforce.opt.optimization_problem module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.opt.optimizer.html">symforce.opt.optimizer module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.opt.optimizer_params.html">symforce.opt.optimizer_params module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.opt.residual_block.html">symforce.opt.residual_block module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.opt.sub_problem.html">symforce.opt.sub_problem module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.opt.timestep_sub_problem.html">symforce.opt.timestep_sub_problem module</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="api/symforce.slam.html">symforce.slam package</a><input class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" role="switch" type="checkbox"/><label for="toctree-checkbox-26"><div class="visually-hidden">Toggle navigation of symforce.slam package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="api/symforce.slam.imu_preintegration.html">symforce.slam.imu_preintegration package</a><input class="toctree-checkbox" id="toctree-checkbox-27" name="toctree-checkbox-27" role="switch" type="checkbox"/><label for="toctree-checkbox-27"><div class="visually-hidden">Toggle navigation of symforce.slam.imu_preintegration package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="api/symforce.slam.imu_preintegration.generate.html">symforce.slam.imu_preintegration.generate module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/symforce.slam.imu_preintegration.manifold_symbolic.html">symforce.slam.imu_preintegration.manifold_symbolic module</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="api/symforce.test_util.html">symforce.test_util package</a><input class="toctree-checkbox" id="toctree-checkbox-28" name="toctree-checkbox-28" role="switch" type="checkbox"/><label for="toctree-checkbox-28"><div class="visually-hidden">Toggle navigation of symforce.test_util package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="api/symforce.test_util.random_expressions.html">symforce.test_util.random_expressions package</a><input class="toctree-checkbox" id="toctree-checkbox-29" name="toctree-checkbox-29" role="switch" type="checkbox"/><label for="toctree-checkbox-29"><div class="visually-hidden">Toggle navigation of symforce.test_util.random_expressions package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="api/symforce.test_util.random_expressions.op_probabilities.html">symforce.test_util.random_expressions.op_probabilities module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/symforce.test_util.random_expressions.unary_binary_expression_gen.html">symforce.test_util.random_expressions.unary_binary_expression_gen module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.test_util.backend_coverage_expressions.html">symforce.test_util.backend_coverage_expressions module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.test_util.cam_cal_test_mixin.html">symforce.test_util.cam_cal_test_mixin module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.test_util.cam_test_mixin.html">symforce.test_util.cam_test_mixin module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.test_util.epsilon_handling.html">symforce.test_util.epsilon_handling module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.test_util.group_ops_test_mixin.html">symforce.test_util.group_ops_test_mixin module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.test_util.lie_group_ops_test_mixin.html">symforce.test_util.lie_group_ops_test_mixin module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.test_util.storage_ops_test_mixin.html">symforce.test_util.storage_ops_test_mixin module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.test_util.test_case.html">symforce.test_util.test_case module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.test_util.test_case_mixin.html">symforce.test_util.test_case_mixin module</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="api/symforce.values.html">symforce.values package</a><input class="toctree-checkbox" id="toctree-checkbox-30" name="toctree-checkbox-30" role="switch" type="checkbox"/><label for="toctree-checkbox-30"><div class="visually-hidden">Toggle navigation of symforce.values package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.values.attr_accessor.html">symforce.values.attr_accessor module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.values.generated_key_selection.html">symforce.values.generated_key_selection module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.values.index_entry.html">symforce.values.index_entry module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/symforce.values.values.html">symforce.values.values module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="api/symforce.cc_sym.html">symforce.cc_sym module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/symforce.databuffer.html">symforce.databuffer module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/symforce.jacobian_helpers.html">symforce.jacobian_helpers module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/symforce.logic.html">symforce.logic module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/symforce.notebook_util.html">symforce.notebook_util module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/symforce.path_util.html">symforce.path_util module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/symforce.python_util.html">symforce.python_util module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/symforce.symbolic.html">symforce.symbolic module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/symforce.type_helpers.html">symforce.type_helpers module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/symforce.typing.html">symforce.typing module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/symforce.typing_util.html">symforce.typing_util module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/symforce.util.html">symforce.util module</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">sym Python Reference</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="api-gen-py/sym.html">sym package</a><input class="toctree-checkbox" id="toctree-checkbox-31" name="toctree-checkbox-31" role="switch" type="checkbox"/><label for="toctree-checkbox-31"><div class="visually-hidden">Toggle navigation of sym package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="api-gen-py/sym.ops.html">sym.ops package</a><input class="toctree-checkbox" id="toctree-checkbox-32" name="toctree-checkbox-32" role="switch" type="checkbox"/><label for="toctree-checkbox-32"><div class="visually-hidden">Toggle navigation of sym.ops package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="api-gen-py/sym.ops.atan_camera_cal.html">sym.ops.atan_camera_cal package</a><input class="toctree-checkbox" id="toctree-checkbox-33" name="toctree-checkbox-33" role="switch" type="checkbox"/><label for="toctree-checkbox-33"><div class="visually-hidden">Toggle navigation of sym.ops.atan_camera_cal package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="api-gen-py/sym.ops.atan_camera_cal.camera_ops.html">sym.ops.atan_camera_cal.camera_ops module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api-gen-py/sym.ops.atan_camera_cal.group_ops.html">sym.ops.atan_camera_cal.group_ops module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api-gen-py/sym.ops.atan_camera_cal.lie_group_ops.html">sym.ops.atan_camera_cal.lie_group_ops module</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="api-gen-py/sym.ops.double_sphere_camera_cal.html">sym.ops.double_sphere_camera_cal package</a><input class="toctree-checkbox" id="toctree-checkbox-34" name="toctree-checkbox-34" role="switch" type="checkbox"/><label for="toctree-checkbox-34"><div class="visually-hidden">Toggle navigation of sym.ops.double_sphere_camera_cal package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="api-gen-py/sym.ops.double_sphere_camera_cal.camera_ops.html">sym.ops.double_sphere_camera_cal.camera_ops module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api-gen-py/sym.ops.double_sphere_camera_cal.group_ops.html">sym.ops.double_sphere_camera_cal.group_ops module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api-gen-py/sym.ops.double_sphere_camera_cal.lie_group_ops.html">sym.ops.double_sphere_camera_cal.lie_group_ops module</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="api-gen-py/sym.ops.equirectangular_camera_cal.html">sym.ops.equirectangular_camera_cal package</a><input class="toctree-checkbox" id="toctree-checkbox-35" name="toctree-checkbox-35" role="switch" type="checkbox"/><label for="toctree-checkbox-35"><div class="visually-hidden">Toggle navigation of sym.ops.equirectangular_camera_cal package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="api-gen-py/sym.ops.equirectangular_camera_cal.camera_ops.html">sym.ops.equirectangular_camera_cal.camera_ops module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api-gen-py/sym.ops.equirectangular_camera_cal.group_ops.html">sym.ops.equirectangular_camera_cal.group_ops module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api-gen-py/sym.ops.equirectangular_camera_cal.lie_group_ops.html">sym.ops.equirectangular_camera_cal.lie_group_ops module</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="api-gen-py/sym.ops.linear_camera_cal.html">sym.ops.linear_camera_cal package</a><input class="toctree-checkbox" id="toctree-checkbox-36" name="toctree-checkbox-36" role="switch" type="checkbox"/><label for="toctree-checkbox-36"><div class="visually-hidden">Toggle navigation of sym.ops.linear_camera_cal package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="api-gen-py/sym.ops.linear_camera_cal.camera_ops.html">sym.ops.linear_camera_cal.camera_ops module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api-gen-py/sym.ops.linear_camera_cal.group_ops.html">sym.ops.linear_camera_cal.group_ops module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api-gen-py/sym.ops.linear_camera_cal.lie_group_ops.html">sym.ops.linear_camera_cal.lie_group_ops module</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="api-gen-py/sym.ops.polynomial_camera_cal.html">sym.ops.polynomial_camera_cal package</a><input class="toctree-checkbox" id="toctree-checkbox-37" name="toctree-checkbox-37" role="switch" type="checkbox"/><label for="toctree-checkbox-37"><div class="visually-hidden">Toggle navigation of sym.ops.polynomial_camera_cal package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="api-gen-py/sym.ops.polynomial_camera_cal.camera_ops.html">sym.ops.polynomial_camera_cal.camera_ops module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api-gen-py/sym.ops.polynomial_camera_cal.group_ops.html">sym.ops.polynomial_camera_cal.group_ops module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api-gen-py/sym.ops.polynomial_camera_cal.lie_group_ops.html">sym.ops.polynomial_camera_cal.lie_group_ops module</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="api-gen-py/sym.ops.pose2.html">sym.ops.pose2 package</a><input class="toctree-checkbox" id="toctree-checkbox-38" name="toctree-checkbox-38" role="switch" type="checkbox"/><label for="toctree-checkbox-38"><div class="visually-hidden">Toggle navigation of sym.ops.pose2 package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="api-gen-py/sym.ops.pose2.group_ops.html">sym.ops.pose2.group_ops module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api-gen-py/sym.ops.pose2.lie_group_ops.html">sym.ops.pose2.lie_group_ops module</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="api-gen-py/sym.ops.pose3.html">sym.ops.pose3 package</a><input class="toctree-checkbox" id="toctree-checkbox-39" name="toctree-checkbox-39" role="switch" type="checkbox"/><label for="toctree-checkbox-39"><div class="visually-hidden">Toggle navigation of sym.ops.pose3 package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="api-gen-py/sym.ops.pose3.group_ops.html">sym.ops.pose3.group_ops module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api-gen-py/sym.ops.pose3.lie_group_ops.html">sym.ops.pose3.lie_group_ops module</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="api-gen-py/sym.ops.rot2.html">sym.ops.rot2 package</a><input class="toctree-checkbox" id="toctree-checkbox-40" name="toctree-checkbox-40" role="switch" type="checkbox"/><label for="toctree-checkbox-40"><div class="visually-hidden">Toggle navigation of sym.ops.rot2 package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="api-gen-py/sym.ops.rot2.group_ops.html">sym.ops.rot2.group_ops module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api-gen-py/sym.ops.rot2.lie_group_ops.html">sym.ops.rot2.lie_group_ops module</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="api-gen-py/sym.ops.rot3.html">sym.ops.rot3 package</a><input class="toctree-checkbox" id="toctree-checkbox-41" name="toctree-checkbox-41" role="switch" type="checkbox"/><label for="toctree-checkbox-41"><div class="visually-hidden">Toggle navigation of sym.ops.rot3 package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="api-gen-py/sym.ops.rot3.group_ops.html">sym.ops.rot3.group_ops module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api-gen-py/sym.ops.rot3.lie_group_ops.html">sym.ops.rot3.lie_group_ops module</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="api-gen-py/sym.ops.spherical_camera_cal.html">sym.ops.spherical_camera_cal package</a><input class="toctree-checkbox" id="toctree-checkbox-42" name="toctree-checkbox-42" role="switch" type="checkbox"/><label for="toctree-checkbox-42"><div class="visually-hidden">Toggle navigation of sym.ops.spherical_camera_cal package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="api-gen-py/sym.ops.spherical_camera_cal.camera_ops.html">sym.ops.spherical_camera_cal.camera_ops module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api-gen-py/sym.ops.spherical_camera_cal.group_ops.html">sym.ops.spherical_camera_cal.group_ops module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api-gen-py/sym.ops.spherical_camera_cal.lie_group_ops.html">sym.ops.spherical_camera_cal.lie_group_ops module</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="api-gen-py/sym.ops.unit3.html">sym.ops.unit3 package</a><input class="toctree-checkbox" id="toctree-checkbox-43" name="toctree-checkbox-43" role="switch" type="checkbox"/><label for="toctree-checkbox-43"><div class="visually-hidden">Toggle navigation of sym.ops.unit3 package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="api-gen-py/sym.ops.unit3.group_ops.html">sym.ops.unit3.group_ops module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api-gen-py/sym.ops.unit3.lie_group_ops.html">sym.ops.unit3.lie_group_ops module</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-py/sym.atan_camera_cal.html">sym.atan_camera_cal module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-py/sym.double_sphere_camera_cal.html">sym.double_sphere_camera_cal module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-py/sym.equirectangular_camera_cal.html">sym.equirectangular_camera_cal module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-py/sym.linear_camera_cal.html">sym.linear_camera_cal module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-py/sym.polynomial_camera_cal.html">sym.polynomial_camera_cal module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-py/sym.pose2.html">sym.pose2 module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-py/sym.pose3.html">sym.pose3 module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-py/sym.rot2.html">sym.rot2 module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-py/sym.rot3.html">sym.rot3 module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-py/sym.spherical_camera_cal.html">sym.spherical_camera_cal module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-py/sym.unit3.html">sym.unit3 module</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">sym C++ Reference</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="api-gen-cpp/classlist.html">Class list</a><input class="toctree-checkbox" id="toctree-checkbox-44" name="toctree-checkbox-44" role="switch" type="checkbox"/><label for="toctree-checkbox-44"><div class="visually-hidden">Toggle navigation of Class list</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/class/classsym_1_1ATANCameraCal.html">Class sym::ATANCameraCal</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/class/classsym_1_1Camera.html">Class sym::Camera</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/class/classsym_1_1DoubleSphereCameraCal.html">Class sym::DoubleSphereCameraCal</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/class/classsym_1_1EquirectangularCameraCal.html">Class sym::EquirectangularCameraCal</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/class/classsym_1_1LinearCameraCal.html">Class sym::LinearCameraCal</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/class/classsym_1_1PolynomialCameraCal.html">Class sym::PolynomialCameraCal</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/class/classsym_1_1Pose2.html">Class sym::Pose2</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/class/classsym_1_1Pose3.html">Class sym::Pose3</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/class/classsym_1_1PosedCamera.html">Class sym::PosedCamera</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/class/classsym_1_1Rot2.html">Class sym::Rot2</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/class/classsym_1_1Rot3.html">Class sym::Rot3</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/class/classsym_1_1SphericalCameraCal.html">Class sym::SphericalCameraCal</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/class/classsym_1_1Unit3.html">Class sym::Unit3</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="api-gen-cpp/filelist.html">File list</a><input class="toctree-checkbox" id="toctree-checkbox-45" name="toctree-checkbox-45" role="switch" type="checkbox"/><label for="toctree-checkbox-45"><div class="visually-hidden">Toggle navigation of File list</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/atan__camera__cal_2group__ops_8cc.html">File group_ops.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/atan__camera__cal_2group__ops_8h.html">File group_ops.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/atan__camera__cal_2lie__group__ops_8cc.html">File lie_group_ops.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/atan__camera__cal_2lie__group__ops_8h.html">File lie_group_ops.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/atan__camera__cal_2storage__ops_8cc.html">File storage_ops.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/atan__camera__cal_2storage__ops_8h.html">File storage_ops.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/atan__camera__cal_8cc.html">File atan_camera_cal.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/atan__camera__cal_8h.html">File atan_camera_cal.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/atan__reprojection__delta_8h.html">File atan_reprojection_delta.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/between__factor__matrix31_8h.html">File between_factor_matrix31.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/between__factor__pose2_8h.html">File between_factor_pose2.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/between__factor__pose3_8h.html">File between_factor_pose3.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/between__factor__pose3__position_8h.html">File between_factor_pose3_position.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/between__factor__pose3__rotation_8h.html">File between_factor_pose3_rotation.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/between__factor__pose3__translation__norm_8h.html">File between_factor_pose3_translation_norm.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/between__factor__rot2_8h.html">File between_factor_rot2.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/between__factor__rot3_8h.html">File between_factor_rot3.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/camera_8h.html">File camera.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/double__sphere__camera__cal_2group__ops_8cc.html">File group_ops.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/double__sphere__camera__cal_2group__ops_8h.html">File group_ops.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/double__sphere__camera__cal_2lie__group__ops_8cc.html">File lie_group_ops.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/double__sphere__camera__cal_2lie__group__ops_8h.html">File lie_group_ops.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/double__sphere__camera__cal_2storage__ops_8cc.html">File storage_ops.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/double__sphere__camera__cal_2storage__ops_8h.html">File storage_ops.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/double__sphere__camera__cal_8cc.html">File double_sphere_camera_cal.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/double__sphere__camera__cal_8h.html">File double_sphere_camera_cal.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/double__sphere__reprojection__delta_8h.html">File double_sphere_reprojection_delta.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/epsilon_8cc.html">File epsilon.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/epsilon_8h.html">File epsilon.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/equirectangular__camera__cal_2group__ops_8cc.html">File group_ops.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/equirectangular__camera__cal_2group__ops_8h.html">File group_ops.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/equirectangular__camera__cal_2lie__group__ops_8cc.html">File lie_group_ops.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/equirectangular__camera__cal_2lie__group__ops_8h.html">File lie_group_ops.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/equirectangular__camera__cal_2storage__ops_8cc.html">File storage_ops.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/equirectangular__camera__cal_2storage__ops_8h.html">File storage_ops.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/equirectangular__camera__cal_8cc.html">File equirectangular_camera_cal.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/equirectangular__camera__cal_8h.html">File equirectangular_camera_cal.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/equirectangular__reprojection__delta_8h.html">File equirectangular_reprojection_delta.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/group__ops_8h.html">File group_ops.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/imu__manifold__preintegration__update_8h.html">File imu_manifold_preintegration_update.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/imu__manifold__preintegration__update__auto__derivative_8h.html">File imu_manifold_preintegration_update_auto_derivative.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/internal__imu__factor_8h.html">File internal_imu_factor.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/internal__imu__unit__gravity__factor_8h.html">File internal_imu_unit_gravity_factor.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/internal__imu__with__gravity__factor_8h.html">File internal_imu_with_gravity_factor.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/inverse__range__landmark__atan__gnc__factor_8h.html">File inverse_range_landmark_atan_gnc_factor.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/inverse__range__landmark__double__sphere__gnc__factor_8h.html">File inverse_range_landmark_double_sphere_gnc_factor.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/inverse__range__landmark__equirectangular__gnc__factor_8h.html">File inverse_range_landmark_equirectangular_gnc_factor.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/inverse__range__landmark__linear__gnc__factor_8h.html">File inverse_range_landmark_linear_gnc_factor.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/inverse__range__landmark__polynomial__gnc__factor_8h.html">File inverse_range_landmark_polynomial_gnc_factor.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/inverse__range__landmark__prior__factor_8h.html">File inverse_range_landmark_prior_factor.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/inverse__range__landmark__spherical__gnc__factor_8h.html">File inverse_range_landmark_spherical_gnc_factor.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/lie__group__ops_8h.html">File lie_group_ops.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/linear__camera__cal_2group__ops_8cc.html">File group_ops.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/linear__camera__cal_2group__ops_8h.html">File group_ops.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/linear__camera__cal_2lie__group__ops_8cc.html">File lie_group_ops.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/linear__camera__cal_2lie__group__ops_8h.html">File lie_group_ops.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/linear__camera__cal_2storage__ops_8cc.html">File storage_ops.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/linear__camera__cal_2storage__ops_8h.html">File storage_ops.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/linear__camera__cal_8cc.html">File linear_camera_cal.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/linear__camera__cal_8h.html">File linear_camera_cal.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/linear__reprojection__delta_8h.html">File linear_reprojection_delta.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/matrix_2group__ops_8cc.html">File group_ops.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/matrix_2group__ops_8h.html">File group_ops.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/matrix_2lie__group__ops_8cc.html">File lie_group_ops.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/matrix_2lie__group__ops_8h.html">File lie_group_ops.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/matrix_2storage__ops_8cc.html">File storage_ops.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/matrix_2storage__ops_8h.html">File storage_ops.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/polynomial__camera__cal_2group__ops_8cc.html">File group_ops.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/polynomial__camera__cal_2group__ops_8h.html">File group_ops.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/polynomial__camera__cal_2lie__group__ops_8cc.html">File lie_group_ops.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/polynomial__camera__cal_2lie__group__ops_8h.html">File lie_group_ops.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/polynomial__camera__cal_2storage__ops_8cc.html">File storage_ops.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/polynomial__camera__cal_2storage__ops_8h.html">File storage_ops.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/polynomial__camera__cal_8cc.html">File polynomial_camera_cal.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/polynomial__camera__cal_8h.html">File polynomial_camera_cal.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/polynomial__reprojection__delta_8h.html">File polynomial_reprojection_delta.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/pose2_2group__ops_8cc.html">File group_ops.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/pose2_2group__ops_8h.html">File group_ops.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/pose2_2lie__group__ops_8cc.html">File lie_group_ops.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/pose2_2lie__group__ops_8h.html">File lie_group_ops.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/pose2_2storage__ops_8cc.html">File storage_ops.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/pose2_2storage__ops_8h.html">File storage_ops.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/pose2_8cc.html">File pose2.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/pose2_8h.html">File pose2.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/pose3_2group__ops_8cc.html">File group_ops.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/pose3_2group__ops_8h.html">File group_ops.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/pose3_2lie__group__ops_8cc.html">File lie_group_ops.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/pose3_2lie__group__ops_8h.html">File lie_group_ops.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/pose3_2storage__ops_8cc.html">File storage_ops.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/pose3_2storage__ops_8h.html">File storage_ops.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/pose3_8cc.html">File pose3.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/pose3_8h.html">File pose3.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/posed__camera_8h.html">File posed_camera.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/prior__factor__matrix31_8h.html">File prior_factor_matrix31.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/prior__factor__pose2_8h.html">File prior_factor_pose2.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/prior__factor__pose3_8h.html">File prior_factor_pose3.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/prior__factor__pose3__position_8h.html">File prior_factor_pose3_position.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/prior__factor__pose3__rotation_8h.html">File prior_factor_pose3_rotation.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/prior__factor__rot2_8h.html">File prior_factor_rot2.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/prior__factor__rot3_8h.html">File prior_factor_rot3.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/roll__forward__state_8h.html">File roll_forward_state.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/rot2_2group__ops_8cc.html">File group_ops.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/rot2_2group__ops_8h.html">File group_ops.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/rot2_2lie__group__ops_8cc.html">File lie_group_ops.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/rot2_2lie__group__ops_8h.html">File lie_group_ops.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/rot2_2storage__ops_8cc.html">File storage_ops.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/rot2_2storage__ops_8h.html">File storage_ops.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/rot2_8cc.html">File rot2.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/rot2_8h.html">File rot2.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/rot3_2group__ops_8cc.html">File group_ops.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/rot3_2group__ops_8h.html">File group_ops.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/rot3_2lie__group__ops_8cc.html">File lie_group_ops.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/rot3_2lie__group__ops_8h.html">File lie_group_ops.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/rot3_2storage__ops_8cc.html">File storage_ops.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/rot3_2storage__ops_8h.html">File storage_ops.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/rot3_8cc.html">File rot3.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/rot3_8h.html">File rot3.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/scalar_2group__ops_8cc.html">File group_ops.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/scalar_2group__ops_8h.html">File group_ops.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/scalar_2lie__group__ops_8cc.html">File lie_group_ops.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/scalar_2lie__group__ops_8h.html">File lie_group_ops.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/scalar_2storage__ops_8cc.html">File storage_ops.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/scalar_2storage__ops_8h.html">File storage_ops.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/spherical__camera__cal_2group__ops_8cc.html">File group_ops.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/spherical__camera__cal_2group__ops_8h.html">File group_ops.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/spherical__camera__cal_2lie__group__ops_8cc.html">File lie_group_ops.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/spherical__camera__cal_2lie__group__ops_8h.html">File lie_group_ops.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/spherical__camera__cal_2storage__ops_8cc.html">File storage_ops.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/spherical__camera__cal_2storage__ops_8h.html">File storage_ops.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/spherical__camera__cal_8cc.html">File spherical_camera_cal.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/spherical__camera__cal_8h.html">File spherical_camera_cal.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/spherical__reprojection__delta_8h.html">File spherical_reprojection_delta.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/storage__ops_8h.html">File storage_ops.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/type__ops_8h.html">File type_ops.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/typedefs_8h.html">File typedefs.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/unit3_2group__ops_8cc.html">File group_ops.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/unit3_2group__ops_8h.html">File group_ops.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/unit3_2lie__group__ops_8cc.html">File lie_group_ops.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/unit3_2lie__group__ops_8h.html">File lie_group_ops.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/unit3_2storage__ops_8cc.html">File storage_ops.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/unit3_2storage__ops_8h.html">File storage_ops.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/unit3_8cc.html">File unit3.cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-gen-cpp/file/unit3_8h.html">File unit3.h</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">opt C++ Reference</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="api-cpp/classlist.html">Class list</a><input class="toctree-checkbox" id="toctree-checkbox-46" name="toctree-checkbox-46" role="switch" type="checkbox"/><label for="toctree-checkbox-46"><div class="visually-hidden">Toggle navigation of Class list</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="api-cpp/class/classsym_1_1DenseCholeskySolver.html">Class sym::DenseCholeskySolver</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-cpp/class/classsym_1_1DenseLinearizer.html">Class sym::DenseLinearizer</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-cpp/class/classsym_1_1EigenSparseSolver.html">Class sym::EigenSparseSolver</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-cpp/class/classsym_1_1Factor.html">Class sym::Factor</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-cpp/class/classsym_1_1GncOptimizer.html">Class sym::GncOptimizer</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-cpp/class/classsym_1_1ImuFactor.html">Class sym::ImuFactor</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-cpp/class/classsym_1_1ImuPreintegrator.html">Class sym::ImuPreintegrator</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-cpp/class/classsym_1_1ImuWithGravityDirectionFactor.html">Class sym::ImuWithGravityDirectionFactor</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-cpp/class/classsym_1_1ImuWithGravityFactor.html">Class sym::ImuWithGravityFactor</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-cpp/class/classsym_1_1Interpolator.html">Class sym::Interpolator</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-cpp/class/classsym_1_1Key.html">Class sym::Key</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-cpp/class/classsym_1_1LevenbergMarquardtSolver.html">Class sym::LevenbergMarquardtSolver</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-cpp/class/classsym_1_1Linearizer.html">Class sym::Linearizer</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-cpp/class/classsym_1_1Optimizer.html">Class sym::Optimizer</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-cpp/class/classsym_1_1SparseCholeskySolver.html">Class sym::SparseCholeskySolver</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-cpp/class/classsym_1_1SparseSchurSolver.html">Class sym::SparseSchurSolver</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-cpp/class/classsym_1_1Values.html">Class sym::Values</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="api-cpp/filelist.html">File list</a><input class="toctree-checkbox" id="toctree-checkbox-47" name="toctree-checkbox-47" role="switch" type="checkbox"/><label for="toctree-checkbox-47"><div class="visually-hidden">Toggle navigation of File list</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="api-cpp/file/assert_8h.html">File assert.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-cpp/file/dense__cholesky__solver_8h.html">File dense_cholesky_solver.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-cpp/file/dense__linearizer_8h.html">File dense_linearizer.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-cpp/file/dump__graph_8h.html">File dump_graph.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-cpp/file/eigen__sparse__solver_8h.html">File eigen_sparse_solver.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-cpp/file/factor_8h.html">File factor.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-cpp/file/gnc__optimizer_8h.html">File gnc_optimizer.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-cpp/file/imu__factor_8h.html">File imu_factor.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-cpp/file/imu__preintegrator_8h.html">File imu_preintegrator.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-cpp/file/key_8h.html">File key.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-cpp/file/levenberg__marquardt__solver_8h.html">File levenberg_marquardt_solver.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-cpp/file/linearization_8h.html">File linearization.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-cpp/file/linearizer_8h.html">File linearizer.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-cpp/file/optimization__stats_8h.html">File optimization_stats.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-cpp/file/optimizer_8h.html">File optimizer.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-cpp/file/optional_8h.html">File optional.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-cpp/file/preintegrated__imu__measurements_8h.html">File preintegrated_imu_measurements.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-cpp/file/sparse__cholesky__solver_8h.html">File sparse_cholesky_solver.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-cpp/file/sparse__schur__solver_8h.html">File sparse_schur_solver.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-cpp/file/templates_8h.html">File templates.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-cpp/file/tic__toc_8h.html">File tic_toc.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-cpp/file/util_8h.html">File util.h</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-cpp/file/values_8h.html">File values.h</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Project Links</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/symforce-org/symforce">GitHub</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pypi.org/project/symforce">PyPI</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="symforce-home">
<h1>SymForce Home<a class="headerlink" href="#symforce-home" title="Permalink to this heading">#</a></h1>
<!-- There's no good way to make an image that's different on light/dark mode that also links
    somewhere.  The closest thing is to add a #gh-light-mode-only to the target, which does this,
    but is kinda confusing -->
<p><img alt="SymForce" src="docs/static/images/symforce_banner.png#gh-light-mode-only" /></p>
<!-- DARK_MODE_ONLY -->
<p><img alt="SymForce" src="docs/static/images/symforce_banner_dark.png#gh-dark-mode-only" /></p>
<!-- /DARK_MODE_ONLY -->
<p align="center">
<a href="https://github.com/symforce-org/symforce/actions/workflows/ci.yml?query=branch%3Amain"><img alt="CI status" src="https://github.com/symforce-org/symforce/actions/workflows/ci.yml/badge.svg" /></a>
<a href="https://symforce.org"><img alt="Documentation" src="https://img.shields.io/badge/api-docs-blue" /></a>
<a href="https://github.com/symforce-org/symforce"><img alt="Source Code" src="https://img.shields.io/badge/source-code-blue" /></a>
<a href="https://github.com/symforce-org/symforce/issues"><img alt="Issues" src="https://img.shields.io/badge/issue-tracker-blue" /></a>
<img alt="Python 3.8 | 3.9 | 3.10 | 3.11 | 3.12" src="https://img.shields.io/pypi/pyversions/symforce" />
<img alt="C++14" src="https://img.shields.io/badge/c++-14-blue" />
<a href="https://pypi.org/project/symforce/"><img alt="PyPI" src="https://img.shields.io/pypi/v/symforce" /></a>
<a href="https://github.com/symforce-org/symforce/tree/main/LICENSE"><img alt="Apache License" src="https://img.shields.io/pypi/l/symforce" /></a>
</p>
<hr class="docutils" />
<p>SymForce is a fast symbolic computation and code generation library for robotics applications like computer vision, state estimation, motion planning, and controls. It combines the development speed and flexibility of symbolic mathematics with the performance of autogenerated, highly optimized code in C++ or any target runtime language. SymForce contains three independently useful systems:</p>
<ul class="simple">
<li><p><strong>Symbolic Toolkit</strong> - builds on the SymPy API to provide rigorous geometric and camera types, lie group calculus, singularity handling, and tools to model complex problems</p></li>
<li><p><strong>Code Generator</strong> - transforms symbolic expressions into blazing-fast, branchless code with clean APIs and minimal dependencies, with a template system to target any language</p></li>
<li><p><strong>Optimization Library</strong> - a fast tangent-space optimization library based on factor graphs, with a highly optimized implementation for real-time robotics applications</p></li>
</ul>
<p>SymForce automatically computes tangent space Jacobians, eliminating the need for any bug-prone handwritten derivatives. Generated functions can be directly used as factors in our nonlinear optimizer. This workflow enables faster runtime functions, faster development time, and fewer lines of handwritten code versus alternative methods.</p>
<p>SymForce is developed and maintained by <a class="reference external" href="https://skydio.com/">Skydio</a>. It is used in production to accelerate tasks like SLAM, bundle adjustment, calibration, and sparse nonlinear MPC for autonomous robots at scale.</p>
<br/>
<img alt="SymForce" src="docs/static/images/symforce_diagram.png" width="700px"/>
<br/>
<section id="features">
<h2>Features<a class="headerlink" href="#features" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p>Symbolic implementations of geometry and camera types with Lie group operations</p></li>
<li><p>Code generation of fast native runtime code from symbolic expressions, reducing duplication and minimizing bugs</p></li>
<li><p>Novel tools to compute fast and correct tangent-space jacobians for any expression, avoiding all handwritten derivatives</p></li>
<li><p>Strategies for flattening computation and leveraging sparsity that can yield 10x speedups over standard autodiff</p></li>
<li><p>A fast tangent-space optimization library in C++ and Python based on factor graphs</p></li>
<li><p>Rapid prototyping and analysis of complex problems with symbolic math, with a seamless workflow into production use</p></li>
<li><p>Embedded-friendly C++ generation of templated Eigen code with zero dynamic memory allocation</p></li>
<li><p>Highly performant, modular, tested, and extensible code</p></li>
</ul>
</section>
<section id="read-the-paper-https-arxiv-org-abs-2204-07889">
<h2>Read the paper: <a href="https://arxiv.org/abs/2204.07889">https://arxiv.org/abs/2204.07889</a><a class="headerlink" href="#read-the-paper-https-arxiv-org-abs-2204-07889" title="Permalink to this heading">#</a></h2>
</section>
<section id="and-watch-the-video-https-youtu-be-qo-ltjrnj0o">
<h2>And watch the video: <a href="https://youtu.be/QO_ltJRNj0o">https://youtu.be/QO_ltJRNj0o</a><a class="headerlink" href="#and-watch-the-video-https-youtu-be-qo-ltjrnj0o" title="Permalink to this heading">#</a></h2>
<p>SymForce was published to <a class="reference external" href="https://roboticsconference.org/">RSS 2022</a>. Please cite it as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@inproceedings</span><span class="p">{</span><span class="n">Martiros</span><span class="o">-</span><span class="n">RSS</span><span class="o">-</span><span class="mi">22</span><span class="p">,</span>
    <span class="n">author</span>    <span class="o">=</span> <span class="p">{</span><span class="n">Hayk</span> <span class="n">Martiros</span> <span class="n">AND</span> <span class="n">Aaron</span> <span class="n">Miller</span> <span class="n">AND</span> <span class="n">Nathan</span> <span class="n">Bucki</span> <span class="n">AND</span> <span class="n">Bradley</span> <span class="n">Solliday</span> <span class="n">AND</span> <span class="n">Ryan</span> <span class="n">Kennedy</span> <span class="n">AND</span> <span class="n">Jack</span> <span class="n">Zhu</span> <span class="n">AND</span> <span class="n">Tung</span> <span class="n">Dang</span> <span class="n">AND</span> <span class="n">Dominic</span> <span class="n">Pattison</span> <span class="n">AND</span> <span class="n">Harrison</span> <span class="n">Zheng</span> <span class="n">AND</span> <span class="n">Teo</span> <span class="n">Tomic</span> <span class="n">AND</span> <span class="n">Peter</span> <span class="n">Henry</span> <span class="n">AND</span> <span class="n">Gareth</span> <span class="n">Cross</span> <span class="n">AND</span> <span class="n">Josiah</span> <span class="n">VanderMey</span> <span class="n">AND</span> <span class="n">Alvin</span> <span class="n">Sun</span> <span class="n">AND</span> <span class="n">Samuel</span> <span class="n">Wang</span> <span class="n">AND</span> <span class="n">Kristen</span> <span class="n">Holtz</span><span class="p">},</span>
    <span class="n">title</span>     <span class="o">=</span> <span class="p">{{</span><span class="n">SymForce</span><span class="p">:</span> <span class="n">Symbolic</span> <span class="n">Computation</span> <span class="ow">and</span> <span class="n">Code</span> <span class="n">Generation</span> <span class="k">for</span> <span class="n">Robotics</span><span class="p">}},</span>
    <span class="n">booktitle</span> <span class="o">=</span> <span class="p">{</span><span class="n">Proceedings</span> <span class="n">of</span> <span class="n">Robotics</span><span class="p">:</span> <span class="n">Science</span> <span class="ow">and</span> <span class="n">Systems</span><span class="p">},</span>
    <span class="n">year</span>      <span class="o">=</span> <span class="p">{</span><span class="mi">2022</span><span class="p">},</span>
    <span class="n">doi</span>       <span class="o">=</span> <span class="p">{</span><span class="mf">10.15607</span><span class="o">/</span><span class="n">RSS</span><span class="mf">.2022</span><span class="o">.</span><span class="n">XVIII</span><span class="mf">.041</span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="install">
<h2>Install<a class="headerlink" href="#install" title="Permalink to this heading">#</a></h2>
<p>Install with pip:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>symforce
</pre></div>
</div>
<p>Verify the installation in Python:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">symforce.symbolic</span> <span class="k">as</span> <span class="nn">sf</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sf</span><span class="o">.</span><span class="n">Rot3</span><span class="p">()</span>
</pre></div>
</div>
<p>This installs pre-compiled C++ components of SymForce on Linux and Mac using pip wheels, but does not include C++ headers. If you want to compile against C++ SymForce types (like <code class="docutils literal notranslate"><span class="pre">sym::Optimizer</span></code>), you currently need to <a href="#build-from-source">build from source</a>.</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="tutorial">
<h2>Tutorial<a class="headerlink" href="#tutorial" title="Permalink to this heading">#</a></h2>
<p>Lets walk through a simple example of modeling and solving an optimization problem with SymForce. In this example a robot moves through a 2D plane and the goal is to estimate its pose at multiple time steps given noisy measurements.</p>
<p>The robot measures:</p>
<ul class="simple">
<li><p>the distance it traveled from an odometry sensor</p></li>
<li><p>relative bearing angles to known landmarks in the scene</p></li>
</ul>
<p>The robots heading angle is defined counter-clockwise from the x-axis, and its relative bearing measurements are defined from the robots forward direction:</p>
<img alt="Robot 2D Localization Figure" src="docs/static/images/robot_2d_localization/problem_setup.png" width="350px"/>
<section id="explore-the-math">
<h3>Explore the math<a class="headerlink" href="#explore-the-math" title="Permalink to this heading">#</a></h3>
<p>Import the SymForce symbolic API, which contains the augmented SymPy API, as well as geometry and camera types:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">symforce.symbolic</span> <span class="k">as</span> <span class="nn">sf</span>
</pre></div>
</div>
<p>Create a symbolic 2D pose and landmark location. Using symbolic variables lets us explore and build up the math in a pure form.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pose</span> <span class="o">=</span> <span class="n">sf</span><span class="o">.</span><span class="n">Pose2</span><span class="p">(</span>
    <span class="n">t</span><span class="o">=</span><span class="n">sf</span><span class="o">.</span><span class="n">V2</span><span class="o">.</span><span class="n">symbolic</span><span class="p">(</span><span class="s2">&quot;t&quot;</span><span class="p">),</span>
    <span class="n">R</span><span class="o">=</span><span class="n">sf</span><span class="o">.</span><span class="n">Rot2</span><span class="o">.</span><span class="n">symbolic</span><span class="p">(</span><span class="s2">&quot;R&quot;</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">landmark</span> <span class="o">=</span> <span class="n">sf</span><span class="o">.</span><span class="n">V2</span><span class="o">.</span><span class="n">symbolic</span><span class="p">(</span><span class="s2">&quot;L&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Lets transform the landmark into the local frame of the robot.  We choose to represent poses as
<code class="docutils literal notranslate"><span class="pre">world_T_body</span></code>, meaning that to take a landmark in the world frame and get its position in the body
frame, we do:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">landmark_body</span> <span class="o">=</span> <span class="n">pose</span><span class="o">.</span><span class="n">inverse</span><span class="p">()</span> <span class="o">*</span> <span class="n">landmark</span>
</pre></div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{bmatrix}
    R_{re} L_0 + R_{im} L_1 - R_{im} t_1 - R_{re} t_0 \\
    -R_{im} L_0 + R_{re} L_1 + R_{im} t_0 + R_{re} t_1
\end{bmatrix}
\end{split}\]</div>
</div>
<p>You can see that <code class="docutils literal notranslate"><span class="pre">sf.Rot2</span></code> is represented internally by a complex number (, ) and we can study how it rotates the landmark .</p>
<p>For exploration purposes, lets take the jacobian of the body-frame landmark with respect to the tangent space of the <code class="docutils literal notranslate"><span class="pre">Pose2</span></code>, parameterized as (, , ):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">landmark_body</span><span class="o">.</span><span class="n">jacobian</span><span class="p">(</span><span class="n">pose</span><span class="p">)</span>
</pre></div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{bmatrix}
    -L_0 R_{im} + L_1 R_{re} + t_0 R_{im} - t_1 R_{re}, &amp; -R_{re}, &amp; -R_{im} \\
    -L_0 R_{re} - L_1 R_{im} + t_0 R_{re} + t_1 R_{im}, &amp;  R_{im}, &amp; -R_{re}
\end{bmatrix}
\end{split}\]</div>
</div>
<p>Note that even though the orientation is stored as a complex number, the tangent space is a scalar angle and SymForce understands that.</p>
<p>Now compute the relative bearing angle:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sf</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">landmark_body</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">landmark_body</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
atan_2(-R_{im} L_0 + R_{re} L_1 + R_{im} t_0 + R_{re} t_1, R_{re} L_0 + R_{im} L_1 - R_{im} t_1 - R_{re} t_0)
\]</div>
</div>
<p>One important note is that <code class="docutils literal notranslate"><span class="pre">atan2</span></code> is singular at (0, 0). In SymForce we handle this by placing a symbol  (epsilon) that preserves the value of an expression in the limit of   0, but allows evaluating at runtime with a very small nonzero value. Functions with singularities accept an <code class="docutils literal notranslate"><span class="pre">epsilon</span></code> argument:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sf</span><span class="o">.</span><span class="n">V3</span><span class="o">.</span><span class="n">symbolic</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">epsilon</span><span class="o">=</span><span class="n">sf</span><span class="o">.</span><span class="n">epsilon</span><span class="p">())</span>
</pre></div>
</div>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[
\sqrt{x_0^2 + x_1^2 + x_2^2 + \epsilon}
\]</div>
</div>
<p>See the <a class="reference external" href="https://symforce.org/tutorials/epsilon_tutorial.html">Epsilon Tutorial</a> in the SymForce Docs for more information.</p>
</section>
<section id="build-an-optimization-problem">
<h3>Build an optimization problem<a class="headerlink" href="#build-an-optimization-problem" title="Permalink to this heading">#</a></h3>
<p>We will model this problem as a factor graph and solve it with nonlinear least-squares.</p>
<p>First, we need to tell SymForce to use a nonzero epsilon to prevent singularities.  This isnt necessary when playing around with symbolic expressions like we were above, but its important now that we want to numerically evaluate some results.  For more information, check out the <a class="reference external" href="https://symforce.org/tutorials/epsilon_tutorial.html">Epsilon Tutorial</a> - for now, all you need to do is this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">symforce</span>
<span class="n">symforce</span><span class="o">.</span><span class="n">set_epsilon_to_symbol</span><span class="p">()</span>
</pre></div>
</div>
<p>This needs to be done before other parts of symforce are imported - if youre following along in a
notebook you should add this at the top and restart the kernel.</p>
<p>Now that epsilon is set up, we will instantiate numerical <a class="reference external" href="https://symforce.org/api/symforce.values.values.html?highlight=values#module-symforce.values.values"><code class="docutils literal notranslate"><span class="pre">Values</span></code></a> for the problem, including an initial guess for our unknown poses (just set them to identity).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">symforce.values</span> <span class="kn">import</span> <span class="n">Values</span>

<span class="n">num_poses</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">num_landmarks</span> <span class="o">=</span> <span class="mi">3</span>

<span class="n">initial_values</span> <span class="o">=</span> <span class="n">Values</span><span class="p">(</span>
    <span class="n">poses</span><span class="o">=</span><span class="p">[</span><span class="n">sf</span><span class="o">.</span><span class="n">Pose2</span><span class="o">.</span><span class="n">identity</span><span class="p">()]</span> <span class="o">*</span> <span class="n">num_poses</span><span class="p">,</span>
    <span class="n">landmarks</span><span class="o">=</span><span class="p">[</span><span class="n">sf</span><span class="o">.</span><span class="n">V2</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n">sf</span><span class="o">.</span><span class="n">V2</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">),</span> <span class="n">sf</span><span class="o">.</span><span class="n">V2</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">)],</span>
    <span class="n">distances</span><span class="o">=</span><span class="p">[</span><span class="mf">1.7</span><span class="p">,</span> <span class="mf">1.4</span><span class="p">],</span>
    <span class="n">angles</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">deg2rad</span><span class="p">([[</span><span class="mi">145</span><span class="p">,</span> <span class="mi">335</span><span class="p">,</span> <span class="mi">55</span><span class="p">],</span> <span class="p">[</span><span class="mi">185</span><span class="p">,</span> <span class="mi">310</span><span class="p">,</span> <span class="mi">70</span><span class="p">],</span> <span class="p">[</span><span class="mi">215</span><span class="p">,</span> <span class="mi">310</span><span class="p">,</span> <span class="mi">70</span><span class="p">]])</span><span class="o">.</span><span class="n">tolist</span><span class="p">(),</span>
    <span class="n">epsilon</span><span class="o">=</span><span class="n">sf</span><span class="o">.</span><span class="n">numeric_epsilon</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Next, we can set up the factors connecting our variables.  The residual function comprises of two terms - one for the bearing measurements and one for the odometry measurements. Lets formalize the math we just defined for the bearing measurements into a symbolic residual function:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">bearing_residual</span><span class="p">(</span>
    <span class="n">pose</span><span class="p">:</span> <span class="n">sf</span><span class="o">.</span><span class="n">Pose2</span><span class="p">,</span> <span class="n">landmark</span><span class="p">:</span> <span class="n">sf</span><span class="o">.</span><span class="n">V2</span><span class="p">,</span> <span class="n">angle</span><span class="p">:</span> <span class="n">sf</span><span class="o">.</span><span class="n">Scalar</span><span class="p">,</span> <span class="n">epsilon</span><span class="p">:</span> <span class="n">sf</span><span class="o">.</span><span class="n">Scalar</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">sf</span><span class="o">.</span><span class="n">V1</span><span class="p">:</span>
    <span class="n">t_body</span> <span class="o">=</span> <span class="n">pose</span><span class="o">.</span><span class="n">inverse</span><span class="p">()</span> <span class="o">*</span> <span class="n">landmark</span>
    <span class="n">predicted_angle</span> <span class="o">=</span> <span class="n">sf</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">t_body</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">t_body</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">epsilon</span><span class="o">=</span><span class="n">epsilon</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">sf</span><span class="o">.</span><span class="n">V1</span><span class="p">(</span><span class="n">sf</span><span class="o">.</span><span class="n">wrap_angle</span><span class="p">(</span><span class="n">predicted_angle</span> <span class="o">-</span> <span class="n">angle</span><span class="p">))</span>
</pre></div>
</div>
<p>This function takes in a pose and landmark variable and returns the error between the predicted bearing angle and a measured value. Note that we call <code class="docutils literal notranslate"><span class="pre">sf.wrap_angle</span></code> on the angle difference to prevent wraparound effects.</p>
<p>The residual for distance traveled is even simpler:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">odometry_residual</span><span class="p">(</span>
    <span class="n">pose_a</span><span class="p">:</span> <span class="n">sf</span><span class="o">.</span><span class="n">Pose2</span><span class="p">,</span> <span class="n">pose_b</span><span class="p">:</span> <span class="n">sf</span><span class="o">.</span><span class="n">Pose2</span><span class="p">,</span> <span class="n">dist</span><span class="p">:</span> <span class="n">sf</span><span class="o">.</span><span class="n">Scalar</span><span class="p">,</span> <span class="n">epsilon</span><span class="p">:</span> <span class="n">sf</span><span class="o">.</span><span class="n">Scalar</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">sf</span><span class="o">.</span><span class="n">V1</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">sf</span><span class="o">.</span><span class="n">V1</span><span class="p">((</span><span class="n">pose_b</span><span class="o">.</span><span class="n">t</span> <span class="o">-</span> <span class="n">pose_a</span><span class="o">.</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">epsilon</span><span class="o">=</span><span class="n">epsilon</span><span class="p">)</span> <span class="o">-</span> <span class="n">dist</span><span class="p">)</span>
</pre></div>
</div>
<p>Now we can create <a class="reference external" href="https://symforce.org/api/symforce.opt.factor.html?highlight=factor#module-symforce.opt.factor"><code class="docutils literal notranslate"><span class="pre">Factor</span></code></a> objects from the residual functions and a set of keys. The keys are named strings for the function arguments, which will be accessed by name from a <a class="reference external" href="https://symforce.org/api/symforce.values.values.html"><code class="docutils literal notranslate"><span class="pre">Values</span></code></a> class we later instantiate with numerical quantities.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">symforce.opt.factor</span> <span class="kn">import</span> <span class="n">Factor</span>

<span class="n">factors</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># Bearing factors</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_poses</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_landmarks</span><span class="p">):</span>
        <span class="n">factors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Factor</span><span class="p">(</span>
            <span class="n">residual</span><span class="o">=</span><span class="n">bearing_residual</span><span class="p">,</span>
            <span class="n">keys</span><span class="o">=</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;poses[</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">]&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;landmarks[</span><span class="si">{</span><span class="n">j</span><span class="si">}</span><span class="s2">]&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;angles[</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">][</span><span class="si">{</span><span class="n">j</span><span class="si">}</span><span class="s2">]&quot;</span><span class="p">,</span> <span class="s2">&quot;epsilon&quot;</span><span class="p">],</span>
        <span class="p">))</span>

<span class="c1"># Odometry factors</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_poses</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
    <span class="n">factors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Factor</span><span class="p">(</span>
        <span class="n">residual</span><span class="o">=</span><span class="n">odometry_residual</span><span class="p">,</span>
        <span class="n">keys</span><span class="o">=</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;poses[</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">]&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;poses[</span><span class="si">{</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2">]&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;distances[</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">]&quot;</span><span class="p">,</span> <span class="s2">&quot;epsilon&quot;</span><span class="p">],</span>
    <span class="p">))</span>
</pre></div>
</div>
<p>Here is a visualization of the structure of this factor graph:</p>
<img alt="Robot 2D Localization Factor Graph" src="docs/static/images/robot_2d_localization/factor_graph.png" width="600px"/>
</section>
<section id="solve-the-problem">
<h3>Solve the problem<a class="headerlink" href="#solve-the-problem" title="Permalink to this heading">#</a></h3>
<p>Our goal is to find poses of the robot that minimize the residual of this factor graph, assuming the
landmark positions in the world are known. We create an
<a class="reference external" href="https://symforce.org/api/symforce.opt.optimizer.html?highlight=optimizer#module-symforce.opt.optimizer"><code class="docutils literal notranslate"><span class="pre">Optimizer</span></code></a>
with these factors and tell it to only optimize the pose keys (the rest are held constant):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">symforce.opt.optimizer</span> <span class="kn">import</span> <span class="n">Optimizer</span>

<span class="n">optimizer</span> <span class="o">=</span> <span class="n">Optimizer</span><span class="p">(</span>
    <span class="n">factors</span><span class="o">=</span><span class="n">factors</span><span class="p">,</span>
    <span class="n">optimized_keys</span><span class="o">=</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;poses[</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">]&quot;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_poses</span><span class="p">)],</span>
    <span class="c1"># So that we save more information about each iteration, to visualize later:</span>
    <span class="n">debug_stats</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Now run the optimization! This returns an <a class="reference external" href="https://symforce.org/api/symforce.opt.optimizer.html?highlight=optimizer#symforce.opt.optimizer.Optimizer.Result"><code class="docutils literal notranslate"><span class="pre">Optimizer.Result</span></code></a> object that contains the optimized values, error statistics, and per-iteration debug stats (if enabled).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">result</span> <span class="o">=</span> <span class="n">optimizer</span><span class="o">.</span><span class="n">optimize</span><span class="p">(</span><span class="n">initial_values</span><span class="p">)</span>
</pre></div>
</div>
<p>We can check that the optimization succeeded, and look at the final error:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">assert</span> <span class="n">result</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="n">Optimizer</span><span class="o">.</span><span class="n">Status</span><span class="o">.</span><span class="n">SUCCESS</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">error</span><span class="p">())</span>
</pre></div>
</div>
<p>Lets visualize what the optimizer did. The orange circles represent the fixed landmarks, the blue
circles represent the robot, and the dotted lines represent the bearing measurements.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">symforce.examples.robot_2d_localization.plotting</span> <span class="kn">import</span> <span class="n">plot_solution</span>
<span class="n">plot_solution</span><span class="p">(</span><span class="n">optimizer</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
<img alt="Robot 2D Localization Solution" src="docs/static/images/robot_2d_localization/iterations.gif" width="600px"/>
<p>All of the code for this example can also be found in <code class="docutils literal notranslate"><span class="pre">symforce/examples/robot_2d_localization</span></code>.</p>
</section>
<section id="symbolic-vs-numerical-types">
<h3>Symbolic vs Numerical Types<a class="headerlink" href="#symbolic-vs-numerical-types" title="Permalink to this heading">#</a></h3>
<p>SymForce provides <code class="docutils literal notranslate"><span class="pre">sym</span></code> packages with runtime code for geometry and camera types that are generated from its symbolic <code class="docutils literal notranslate"><span class="pre">geo</span></code> and <code class="docutils literal notranslate"><span class="pre">cam</span></code> packages. As such, there are multiple versions of a class like <code class="docutils literal notranslate"><span class="pre">Pose3</span></code> and it can be a common source of confusion.</p>
<p>The canonical symbolic class <a class="reference external" href="https://symforce.org/api/symforce.symbolic.html#symforce.symbolic.Pose3"><code class="docutils literal notranslate"><span class="pre">sf.Pose3</span></code></a> lives in the <code class="docutils literal notranslate"><span class="pre">symforce</span></code> package:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sf</span><span class="o">.</span><span class="n">Pose3</span><span class="o">.</span><span class="n">identity</span><span class="p">()</span>
</pre></div>
</div>
<p>The autogenerated Python runtime class <a class="reference external" href="https://symforce.org/api-gen-py/sym.pose3.html?highlight=pose3#module-sym.pose3"><code class="docutils literal notranslate"><span class="pre">sym.Pose3</span></code></a> lives in the <code class="docutils literal notranslate"><span class="pre">sym</span></code> package:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sym</span>
<span class="n">sym</span><span class="o">.</span><span class="n">Pose3</span><span class="o">.</span><span class="n">identity</span><span class="p">()</span>
</pre></div>
</div>
<p>The autogenerated C++ runtime class <a class="reference external" href="https://symforce.org/api-gen-cpp/class/classsym_1_1Pose3.html"><code class="docutils literal notranslate"><span class="pre">sym::Pose3</span></code></a> lives in the <code class="docutils literal notranslate"><span class="pre">sym::</span></code> namespace:</p>
<div class="highlight-C++ notranslate"><div class="highlight"><pre><span></span><span class="n">sym</span><span class="o">::</span><span class="n">Pose3</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;::</span><span class="n">Identity</span><span class="p">()</span>
</pre></div>
</div>
<p>The matrix type for symbolic code is <a class="reference external" href="https://symforce.org/api/symforce.symbolic.html#symforce.symbolic.Matrix"><code class="docutils literal notranslate"><span class="pre">sf.Matrix</span></code></a>, for generated Python is <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html"><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, and for C++ is <a class="reference external" href="https://eigen.tuxfamily.org/dox/group__TutorialMatrixClass.html"><code class="docutils literal notranslate"><span class="pre">Eigen::Matrix</span></code></a>.</p>
<p>The symbolic classes can also handle numerical values, but will be dramatically slower than the generated classes. The symbolic classes must be used when defining functions for codegen and optimization. Generated functions always accept the runtime types.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">Codegen</span></code> or <code class="docutils literal notranslate"><span class="pre">Factor</span></code> objects require symbolic types and functions to do math and generate code. However, once code is generated, numerical types should be used when invoking generated functions and in the initial values when calling the <code class="docutils literal notranslate"><span class="pre">Optimizer</span></code>.</p>
<p>As a convenience, the Python <code class="docutils literal notranslate"><span class="pre">Optimizer</span></code> class can accept symbolic types in its <code class="docutils literal notranslate"><span class="pre">Values</span></code> and convert to numerical types before invoking generated functions. This is done in the tutorial example for simplicity.</p>
</section>
<section id="generate-runtime-c-code">
<h3>Generate runtime C++ code<a class="headerlink" href="#generate-runtime-c-code" title="Permalink to this heading">#</a></h3>
<p>Lets look under the hood to understand how that optimization worked. For each factor, SymForce introspects the form of the symbolic function, passes through symbolic inputs to build an output expression, automatically computes tangent-space jacobians of those output expressions w.r.t. the optimized variables, and generates fast runtime code for them.</p>
<p>The <a class="reference external" href="https://symforce.org/api/symforce.codegen.codegen.html?highlight=codegen#module-symforce.codegen.codegen"><code class="docutils literal notranslate"><span class="pre">Codegen</span></code></a> class is the central tool for generating runtime code from symbolic expressions. In this case, we pass it the bearing residual function and configure it to generate C++ code:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">symforce.codegen</span> <span class="kn">import</span> <span class="n">Codegen</span><span class="p">,</span> <span class="n">CppConfig</span>

<span class="n">codegen</span> <span class="o">=</span> <span class="n">Codegen</span><span class="o">.</span><span class="n">function</span><span class="p">(</span><span class="n">bearing_residual</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">CppConfig</span><span class="p">())</span>
</pre></div>
</div>
<p>We can then create another <code class="docutils literal notranslate"><span class="pre">Codegen</span></code> object that computes a Gauss-Newton linearization from this Codegen object. It does this by introspecting and symbolically differentiating the given arguments:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">codegen_linearization</span> <span class="o">=</span> <span class="n">codegen</span><span class="o">.</span><span class="n">with_linearization</span><span class="p">(</span>
    <span class="n">which_args</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;pose&quot;</span><span class="p">]</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Generate a C++ function that computes the linearization wrt the pose argument:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">metadata</span> <span class="o">=</span> <span class="n">codegen_linearization</span><span class="o">.</span><span class="n">generate_function</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="n">metadata</span><span class="o">.</span><span class="n">generated_files</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</pre></div>
</div>
<p>This C++ code depends only on Eigen and computes the results in a single flat function that shares all common sub-expressions:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="cp">#pragma once</span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;Eigen/Core&gt;</span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sym/pose2.h&gt;</span>

<span class="k">namespace</span><span class="w"> </span><span class="nn">sym</span><span class="w"> </span><span class="p">{</span>

<span class="cm">/**</span>
<span class="cm"> * This function was autogenerated from a symbolic function. Do not modify by hand.</span>
<span class="cm"> *</span>
<span class="cm"> * Symbolic function: bearing_residual</span>
<span class="cm"> *</span>
<span class="cm"> * Args:</span>
<span class="cm"> *     pose: Pose2</span>
<span class="cm"> *     landmark: Matrix21</span>
<span class="cm"> *     angle: Scalar</span>
<span class="cm"> *     epsilon: Scalar</span>
<span class="cm"> *</span>
<span class="cm"> * Outputs:</span>
<span class="cm"> *     res: Matrix11</span>
<span class="cm"> *     jacobian: (1x3) jacobian of res wrt arg pose (3)</span>
<span class="cm"> *     hessian: (3x3) Gauss-Newton hessian for arg pose (3)</span>
<span class="cm"> *     rhs: (3x1) Gauss-Newton rhs for arg pose (3)</span>
<span class="cm"> */</span>
<span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">Scalar</span><span class="o">&gt;</span>
<span class="kt">void</span><span class="w"> </span><span class="n">BearingFactor</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">sym</span><span class="o">::</span><span class="n">Pose2</span><span class="o">&lt;</span><span class="n">Scalar</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">pose</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Eigen</span><span class="o">::</span><span class="n">Matrix</span><span class="o">&lt;</span><span class="n">Scalar</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">landmark</span><span class="p">,</span>
<span class="w">                   </span><span class="k">const</span><span class="w"> </span><span class="n">Scalar</span><span class="w"> </span><span class="n">angle</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Scalar</span><span class="w"> </span><span class="n">epsilon</span><span class="p">,</span>
<span class="w">                   </span><span class="n">Eigen</span><span class="o">::</span><span class="n">Matrix</span><span class="o">&lt;</span><span class="n">Scalar</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="o">&gt;*</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">res</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">nullptr</span><span class="p">,</span>
<span class="w">                   </span><span class="n">Eigen</span><span class="o">::</span><span class="n">Matrix</span><span class="o">&lt;</span><span class="n">Scalar</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="o">&gt;*</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">jacobian</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">nullptr</span><span class="p">,</span>
<span class="w">                   </span><span class="n">Eigen</span><span class="o">::</span><span class="n">Matrix</span><span class="o">&lt;</span><span class="n">Scalar</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="o">&gt;*</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">hessian</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">nullptr</span><span class="p">,</span>
<span class="w">                   </span><span class="n">Eigen</span><span class="o">::</span><span class="n">Matrix</span><span class="o">&lt;</span><span class="n">Scalar</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="o">&gt;*</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">rhs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">nullptr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// Total ops: 66</span>

<span class="w">  </span><span class="c1">// Input arrays</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">Eigen</span><span class="o">::</span><span class="n">Matrix</span><span class="o">&lt;</span><span class="n">Scalar</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">_pose</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pose</span><span class="p">.</span><span class="n">Data</span><span class="p">();</span>

<span class="w">  </span><span class="c1">// Intermediate terms (24)</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">Scalar</span><span class="w"> </span><span class="n">_tmp0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_pose</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_pose</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">Scalar</span><span class="w"> </span><span class="n">_tmp1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_pose</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_pose</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">Scalar</span><span class="w"> </span><span class="n">_tmp2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_pose</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">landmark</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_pose</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">landmark</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">Scalar</span><span class="w"> </span><span class="n">_tmp3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_tmp0</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_tmp1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">_tmp2</span><span class="p">;</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">Scalar</span><span class="w"> </span><span class="n">_tmp4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_pose</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_pose</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">_pose</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_pose</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">Scalar</span><span class="w"> </span><span class="n">_tmp5</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_pose</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">landmark</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">Scalar</span><span class="w"> </span><span class="n">_tmp6</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_pose</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">landmark</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">Scalar</span><span class="w"> </span><span class="n">_tmp7</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="n">_tmp4</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">_tmp5</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">_tmp6</span><span class="p">;</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">Scalar</span><span class="w"> </span><span class="n">_tmp8</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_tmp7</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">epsilon</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">((((</span><span class="n">_tmp7</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">((</span><span class="n">_tmp7</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">Scalar</span><span class="p">(</span><span class="mf">0.5</span><span class="p">));</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">Scalar</span><span class="w"> </span><span class="n">_tmp9</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="n">angle</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">atan2</span><span class="p">(</span><span class="n">_tmp3</span><span class="p">,</span><span class="w"> </span><span class="n">_tmp8</span><span class="p">);</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">Scalar</span><span class="w"> </span><span class="n">_tmp10</span><span class="w"> </span><span class="o">=</span>
<span class="w">      </span><span class="n">_tmp9</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">Scalar</span><span class="p">(</span><span class="n">M_PI</span><span class="p">)</span><span class="w"> </span><span class="o">*</span>
<span class="w">                  </span><span class="n">std</span><span class="o">::</span><span class="n">floor</span><span class="p">((</span><span class="n">Scalar</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">Scalar</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="n">_tmp9</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">Scalar</span><span class="p">(</span><span class="n">M_PI</span><span class="p">))</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">Scalar</span><span class="p">(</span><span class="n">M_PI</span><span class="p">));</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">Scalar</span><span class="w"> </span><span class="n">_tmp11</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Scalar</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">(</span><span class="n">_tmp8</span><span class="p">);</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">Scalar</span><span class="w"> </span><span class="n">_tmp12</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">pow</span><span class="p">(</span><span class="n">_tmp8</span><span class="p">,</span><span class="w"> </span><span class="n">Scalar</span><span class="p">(</span><span class="mi">2</span><span class="p">));</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">Scalar</span><span class="w"> </span><span class="n">_tmp13</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_tmp3</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">_tmp12</span><span class="p">;</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">Scalar</span><span class="w"> </span><span class="n">_tmp14</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_tmp11</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="n">_tmp4</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_tmp5</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_tmp6</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_tmp13</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="n">_tmp0</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_tmp1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">_tmp2</span><span class="p">);</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">Scalar</span><span class="w"> </span><span class="n">_tmp15</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_tmp12</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">pow</span><span class="p">(</span><span class="n">_tmp3</span><span class="p">,</span><span class="w"> </span><span class="n">Scalar</span><span class="p">(</span><span class="mi">2</span><span class="p">));</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">Scalar</span><span class="w"> </span><span class="n">_tmp16</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_tmp12</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">_tmp15</span><span class="p">;</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">Scalar</span><span class="w"> </span><span class="n">_tmp17</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_tmp14</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_tmp16</span><span class="p">;</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">Scalar</span><span class="w"> </span><span class="n">_tmp18</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_pose</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_tmp13</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">_pose</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_tmp11</span><span class="p">;</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">Scalar</span><span class="w"> </span><span class="n">_tmp19</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_tmp16</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_tmp18</span><span class="p">;</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">Scalar</span><span class="w"> </span><span class="n">_tmp20</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="n">_pose</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_tmp11</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">_pose</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_tmp13</span><span class="p">;</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">Scalar</span><span class="w"> </span><span class="n">_tmp21</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_tmp16</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_tmp20</span><span class="p">;</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">Scalar</span><span class="w"> </span><span class="n">_tmp22</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">pow</span><span class="p">(</span><span class="n">_tmp8</span><span class="p">,</span><span class="w"> </span><span class="n">Scalar</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">pow</span><span class="p">(</span><span class="n">_tmp15</span><span class="p">,</span><span class="w"> </span><span class="n">Scalar</span><span class="p">(</span><span class="mi">2</span><span class="p">));</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">Scalar</span><span class="w"> </span><span class="n">_tmp23</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_tmp18</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_tmp22</span><span class="p">;</span>

<span class="w">  </span><span class="c1">// Output terms (4)</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">res</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="k">nullptr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Eigen</span><span class="o">::</span><span class="n">Matrix</span><span class="o">&lt;</span><span class="n">Scalar</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">_res</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">res</span><span class="p">);</span>

<span class="w">    </span><span class="n">_res</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_tmp10</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">jacobian</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="k">nullptr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Eigen</span><span class="o">::</span><span class="n">Matrix</span><span class="o">&lt;</span><span class="n">Scalar</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">_jacobian</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">jacobian</span><span class="p">);</span>

<span class="w">    </span><span class="n">_jacobian</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_tmp17</span><span class="p">;</span>
<span class="w">    </span><span class="n">_jacobian</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_tmp19</span><span class="p">;</span>
<span class="w">    </span><span class="n">_jacobian</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_tmp21</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hessian</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="k">nullptr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Eigen</span><span class="o">::</span><span class="n">Matrix</span><span class="o">&lt;</span><span class="n">Scalar</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">_hessian</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">hessian</span><span class="p">);</span>

<span class="w">    </span><span class="n">_hessian</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">pow</span><span class="p">(</span><span class="n">_tmp14</span><span class="p">,</span><span class="w"> </span><span class="n">Scalar</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_tmp22</span><span class="p">;</span>
<span class="w">    </span><span class="n">_hessian</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="n">_hessian</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="n">_hessian</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_tmp14</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_tmp23</span><span class="p">;</span>
<span class="w">    </span><span class="n">_hessian</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">pow</span><span class="p">(</span><span class="n">_tmp18</span><span class="p">,</span><span class="w"> </span><span class="n">Scalar</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_tmp22</span><span class="p">;</span>
<span class="w">    </span><span class="n">_hessian</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="n">_hessian</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_tmp14</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_tmp20</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_tmp22</span><span class="p">;</span>
<span class="w">    </span><span class="n">_hessian</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_tmp20</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_tmp23</span><span class="p">;</span>
<span class="w">    </span><span class="n">_hessian</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">pow</span><span class="p">(</span><span class="n">_tmp20</span><span class="p">,</span><span class="w"> </span><span class="n">Scalar</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_tmp22</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rhs</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="k">nullptr</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Eigen</span><span class="o">::</span><span class="n">Matrix</span><span class="o">&lt;</span><span class="n">Scalar</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">_rhs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">rhs</span><span class="p">);</span>

<span class="w">    </span><span class="n">_rhs</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_tmp10</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_tmp17</span><span class="p">;</span>
<span class="w">    </span><span class="n">_rhs</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_tmp10</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_tmp19</span><span class="p">;</span>
<span class="w">    </span><span class="n">_rhs</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_tmp10</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_tmp21</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="p">}</span><span class="w">  </span><span class="c1">// namespace sym</span>
</pre></div>
</div>
<p>SymForce can also generate runtime Python code that depends only on <code class="docutils literal notranslate"><span class="pre">numpy</span></code>.</p>
<p>The code generation system is written with pluggable <a class="reference external" href="https://palletsprojects.com/p/jinja/">jinja</a> templates to minimize the work to add new backend languages. Some of our top candidates to add are TypeScript, CUDA, and PyTorch.</p>
</section>
<section id="optimize-from-c">
<h3>Optimize from C++<a class="headerlink" href="#optimize-from-c" title="Permalink to this heading">#</a></h3>
<p>Now that we can generate C++ functions for each residual function, we can also run the optimization purely from C++ to get Python entirely out of the loop for production use.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">num_poses</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
<span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">num_landmarks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>

<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">sym</span><span class="o">::</span><span class="n">Factor</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">factors</span><span class="p">;</span>

<span class="c1">// Bearing factors</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">num_poses</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">num_landmarks</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">j</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">factors</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">sym</span><span class="o">::</span><span class="n">Factor</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;::</span><span class="n">Hessian</span><span class="p">(</span>
<span class="w">            </span><span class="n">sym</span><span class="o">::</span><span class="n">BearingFactor</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="p">,</span>
<span class="w">            </span><span class="p">{{</span><span class="sc">&#39;P&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="sc">&#39;L&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="sc">&#39;a&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="sc">&#39;e&#39;</span><span class="p">}},</span><span class="w">  </span><span class="c1">// keys</span>
<span class="w">            </span><span class="p">{{</span><span class="sc">&#39;P&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">}}</span><span class="w">  </span><span class="c1">// keys to optimize</span>
<span class="w">        </span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Odometry factors</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">num_poses</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">factors</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">sym</span><span class="o">::</span><span class="n">Factor</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;::</span><span class="n">Hessian</span><span class="p">(</span>
<span class="w">        </span><span class="n">sym</span><span class="o">::</span><span class="n">OdometryFactor</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="p">,</span>
<span class="w">        </span><span class="p">{{</span><span class="sc">&#39;P&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="sc">&#39;P&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="sc">&#39;d&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="sc">&#39;e&#39;</span><span class="p">}},</span><span class="w">  </span><span class="c1">// keys</span>
<span class="w">        </span><span class="p">{{</span><span class="sc">&#39;P&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="sc">&#39;P&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">}}</span><span class="w">  </span><span class="c1">// keys to optimize</span>
<span class="w">    </span><span class="p">));</span>
<span class="p">}</span>

<span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="n">params</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sym</span><span class="o">::</span><span class="n">DefaultOptimizerParams</span><span class="p">();</span>
<span class="n">sym</span><span class="o">::</span><span class="n">Optimizer</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="w"> </span><span class="n">optimizer</span><span class="p">(</span>
<span class="w">    </span><span class="n">params</span><span class="p">,</span>
<span class="w">    </span><span class="n">factors</span><span class="p">,</span>
<span class="w">    </span><span class="n">sym</span><span class="o">::</span><span class="n">kDefaultEpsilon</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span>
<span class="p">);</span>

<span class="n">sym</span><span class="o">::</span><span class="n">Values</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="w"> </span><span class="n">values</span><span class="p">;</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">num_poses</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">values</span><span class="p">.</span><span class="n">Set</span><span class="p">({</span><span class="sc">&#39;P&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">},</span><span class="w"> </span><span class="n">sym</span><span class="o">::</span><span class="n">Pose2d</span><span class="o">::</span><span class="n">Identity</span><span class="p">());</span>
<span class="p">}</span>

<span class="c1">// Set additional values</span>
<span class="n">values</span><span class="p">.</span><span class="n">Set</span><span class="p">({</span><span class="sc">&#39;L&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">},</span><span class="w"> </span><span class="n">Eigen</span><span class="o">::</span><span class="n">Vector2d</span><span class="p">(</span><span class="mi">-2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">));</span>
<span class="n">values</span><span class="p">.</span><span class="n">Set</span><span class="p">({</span><span class="sc">&#39;L&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">},</span><span class="w"> </span><span class="n">Eigen</span><span class="o">::</span><span class="n">Vector2d</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">-3</span><span class="p">));</span>
<span class="n">values</span><span class="p">.</span><span class="n">Set</span><span class="p">({</span><span class="sc">&#39;L&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">},</span><span class="w"> </span><span class="n">Eigen</span><span class="o">::</span><span class="n">Vector2d</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">));</span>
<span class="n">values</span><span class="p">.</span><span class="n">Set</span><span class="p">({</span><span class="sc">&#39;d&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">},</span><span class="w"> </span><span class="mf">1.7</span><span class="p">);</span>
<span class="n">values</span><span class="p">.</span><span class="n">Set</span><span class="p">({</span><span class="sc">&#39;d&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">},</span><span class="w"> </span><span class="mf">1.4</span><span class="p">);</span>
<span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">array</span><span class="o">&lt;</span><span class="kt">double</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="o">&gt;</span><span class="w"> </span><span class="n">angles</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">{{</span><span class="mi">55</span><span class="p">,</span><span class="w"> </span><span class="mi">245</span><span class="p">,</span><span class="w"> </span><span class="mi">-35</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="mi">95</span><span class="p">,</span><span class="w"> </span><span class="mi">220</span><span class="p">,</span><span class="w"> </span><span class="mi">-20</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="mi">125</span><span class="p">,</span><span class="w"> </span><span class="mi">220</span><span class="p">,</span><span class="w"> </span><span class="mi">-20</span><span class="p">}}</span>
<span class="p">};</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">angles</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">angles</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">size</span><span class="p">();</span><span class="w"> </span><span class="o">++</span><span class="n">j</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">values</span><span class="p">.</span><span class="n">Set</span><span class="p">({</span><span class="sc">&#39;a&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">},</span><span class="w"> </span><span class="n">angles</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">M_PI</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">180</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
<span class="n">values</span><span class="p">.</span><span class="n">Set</span><span class="p">(</span><span class="sc">&#39;e&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">sym</span><span class="o">::</span><span class="n">kDefaultEpsilond</span><span class="p">);</span>

<span class="c1">// Optimize!</span>
<span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="n">stats</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">optimizer</span><span class="p">.</span><span class="n">Optimize</span><span class="p">(</span><span class="n">values</span><span class="p">);</span>

<span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Exit status: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">stats</span><span class="p">.</span><span class="n">status</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Optimized values:&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
</pre></div>
</div>
<p>This tutorial shows the central workflow in SymForce for creating symbolic expressions, generating code, and optimizing. This approach works well for a wide range of complex problems in robotics, computer vision, and applied science.</p>
<p>However, each piece may also be used independently. The optimization machinery can work with handwritten functions, and the symbolic math and code generation is useful outside of any optimization context.</p>
<!-- $
<span style="color:blue">TODO: I wanted to show `sf.V1(sm.atan2(landmark_body[1], landmark_body[0])).jacobian(pose.R)`, but you have to call `sm.simplify` to get the expression to -1, otherwise it's more complicated. All this is also showing up extraneously in the generated code. Discuss what to show.</span>

\frac{
    (-\frac{
        (-R_{im} L_0 + R_{re} L_1 + R_{im} t_0 + R_{re} t_1)^2
    }{
        (R_{re} L_0 + R_{im} L_1 - R_{im} t_1 - R_{re} t_0)^2
    } + \frac{

        }{

        })(R_{re} L_0 + R_{im} L_1 - R_{im} t_1 - R_{re} t_0)^2
    }{
        (-R_{im} L_0 + R_{re} L_1 + R_{im} t_0 + R_{re} t_1)^2 +
        (R_{re} L_0 + R_{im} L_1 - R_{im} t_1 - R_{re} t_0)^2
    }
$ -->
<p>To learn more, visit the SymForce tutorials <a class="reference external" href="https://symforce.org/#guides">here</a>.</p>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="build-from-source">
<h2>Build from Source<a class="headerlink" href="#build-from-source" title="Permalink to this heading">#</a></h2>
<p>For best results, you should build from the <a class="reference external" href="https://github.com/symforce-org/symforce/releases/latest">latest tagged release</a>.  You can also build from <code class="docutils literal notranslate"><span class="pre">main</span></code>, or from another branch, but everything is less guaranteed to work.</p>
<p>SymForce requires Python 3.8 or later. The build is currently tested on Linux and macOS, SymForce on Windows is untested (see <a class="reference external" href="https://github.com/symforce-org/symforce/issues/145">#145</a>).  We strongly suggest creating a virtual python environment.</p>
<p>Install the <code class="docutils literal notranslate"><span class="pre">gmp</span></code> package with one of:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>apt<span class="w"> </span>install<span class="w"> </span>libgmp-dev<span class="w">            </span><span class="c1"># Ubuntu</span>
brew<span class="w"> </span>install<span class="w"> </span>gmp<span class="w">                  </span><span class="c1"># Mac</span>
conda<span class="w"> </span>install<span class="w"> </span>-c<span class="w"> </span>conda-forge<span class="w"> </span>gmp<span class="w">  </span><span class="c1"># Conda</span>
</pre></div>
</div>
<p>SymForce contains both C++ and Python code. The C++ code is built using CMake.  You can build the package either by calling pip, or by calling CMake directly.  If building with <code class="docutils literal notranslate"><span class="pre">pip</span></code>, this will call CMake under the hood, and run the same CMake build for the C++ components.</p>
<p>If you encounter build issues, please file an <a class="reference external" href="https://github.com/symforce-org/symforce/issues">issue</a>.</p>
<section id="build-with-pip">
<h3>Build with pip<a class="headerlink" href="#build-with-pip" title="Permalink to this heading">#</a></h3>
<p>If you just want to build and install SymForce without repeatedly modifying the source, the recommended way to do this is with pip.  From the symforce directory:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>.
</pre></div>
</div>
<p>If youre modifying the SymForce Python sources, you can do an <a class="reference external" href="https://pip.pypa.io/en/stable/topics/local-project-installs/#editable-installs">editable install</a> instead.  This will let you modify the Python components of SymForce without reinstalling.  If youre going to repeatedly modify the C++ sources, you should instead build with CMake directly as described <a href="#build-with-cmake">below</a>.  From the symforce directory:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>-e<span class="w"> </span>.
</pre></div>
</div>
<p>You should then <a class="reference internal" href="#verify-your-installation">verify your installation</a>.</p>
<p><em><strong>Note:</strong></em> <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">.</span></code> will not install pinned versions of SymForces dependencies, itll install any compatible versions.  It also wont install all packages required to run all of the SymForce tests and build all of the targets (e.g. building the docs or running the linters).  If you want all packages required for that, you should <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">.[dev]</span></code> instead (or one of the other groups of extra requirements in our <code class="docutils literal notranslate"><span class="pre">setup.py</span></code>).  If you additionally want pinned versions of our dependencies, which are the exact versions guaranteed by CI to pass all of our tests, you can install them from <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">-r</span> <span class="pre">dev_requirements.txt</span></code>.</p>
<p><em>Note: Editable installs as root with the system python on Ubuntu (and other Debian derivatives) are broken on <code class="docutils literal notranslate"><span class="pre">setuptools&lt;64.0.0</span></code>.  This is a <a class="reference external" href="https://ffy00.github.io/blog/02-python-debian-and-the-install-locations/">bug in Debian</a>, not something in SymForce that we can fix.  If this is your situation, either use a virtual environment, upgrade setuptools to a version <code class="docutils literal notranslate"><span class="pre">&gt;=64.0.0</span></code>, or use a different installation method.</em></p>
</section>
<section id="build-with-cmake">
<h3>Build with CMake<a class="headerlink" href="#build-with-cmake" title="Permalink to this heading">#</a></h3>
<p>If youll be modifying the C++ parts of SymForce, you should build with CMake directly instead - this method will not install
SymForce into your Python environment, so youll need to add it to your PYTHONPATH separately.</p>
<p>Install python requirements:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>-r<span class="w"> </span>dev_requirements.txt
</pre></div>
</div>
<p>Build SymForce (requires C++14 or later):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir<span class="w"> </span>build
<span class="nb">cd</span><span class="w"> </span>build
cmake<span class="w"> </span>..
make<span class="w"> </span>-j<span class="w"> </span><span class="k">$(</span>nproc<span class="k">)</span>
</pre></div>
</div>
<p>Youll then need to add SymForce (along with <code class="docutils literal notranslate"><span class="pre">gen/python</span></code> and <code class="docutils literal notranslate"><span class="pre">third_party/skymarshal</span></code> within symforce and <code class="docutils literal notranslate"><span class="pre">lcmtypes/python2.7</span></code> within the build directory) to your PYTHONPATH in order to use them, for example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">PYTHONPATH</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$PYTHONPATH</span><span class="s2">:/path/to/symforce:/path/to/symforce/build/lcmtypes/python2.7&quot;</span>
</pre></div>
</div>
<p>If you want to install SymForce to use its C++ libraries in another CMake project, you can do that with:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span>install
</pre></div>
</div>
<p>SymForce does not currently integrate with CMakes <code class="docutils literal notranslate"><span class="pre">find_package</span></code> (see <a class="reference external" href="https://github.com/symforce-org/symforce/issues/209">#209</a>), so if you do this you currently need to add its libraries as link dependencies in your CMake project manually.</p>
</section>
<section id="verify-your-installation">
<h3>Verify your installation<a class="headerlink" href="#verify-your-installation" title="Permalink to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">symforce</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">symforce</span><span class="o">.</span><span class="n">get_symbolic_api</span><span class="p">()</span>
<span class="go">&#39;symengine&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">symforce</span> <span class="kn">import</span> <span class="n">cc_sym</span>
</pre></div>
</div>
<p>If you see <code class="docutils literal notranslate"><span class="pre">'sympy'</span></code> here instead of <code class="docutils literal notranslate"><span class="pre">'symengine'</span></code>, or cant import <code class="docutils literal notranslate"><span class="pre">cc_sym</span></code>, your installation is probably broken and you should submit an <a class="reference external" href="https://github.com/symforce-org/symforce/issues">issue</a>.</p>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="license">
<h2>License<a class="headerlink" href="#license" title="Permalink to this heading">#</a></h2>
<p>SymForce is released under the <a class="reference external" href="https://spdx.org/licenses/Apache-2.0.html">Apache 2.0</a> license.</p>
<p>See the <a class="reference external" href="https://github.com/symforce-org/symforce/blob/main/LICENSE">LICENSE</a> file for more information.</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="sponsors">
<h2>Sponsors<a class="headerlink" href="#sponsors" title="Permalink to this heading">#</a></h2>
<p>SymForce is developed and maintained by <a class="reference external" href="https://skydio.com/">Skydio</a>. It is released as a free and open-source library for the robotics community.</p>
<a href="http://skydio.com#gh-light-mode-only">
    <img alt="Skydio Logo" src="docs/static/images/skydio-logo-2.png" width="300px" />
</a>
<!-- DARK_MODE_ONLY -->
<a href="http://skydio.com#gh-dark-mode-only">
    <img alt="Skydio Logo" src="docs/static/images/skydio-logo-2-white.png" width="300px" />
</a>
<!-- /DARK_MODE_ONLY -->
</section>
<section class="tex2jax_ignore mathjax_ignore" id="contributing">
<h2>Contributing<a class="headerlink" href="#contributing" title="Permalink to this heading">#</a></h2>
<p>While SymForce already powers tens of thousands of robots at Skydio, the public library is new and we are releasing it in beta stage. This is just the beginning, and we are excited for engagement from the community. Thank you for helping us develop SymForce! The best way to get started is to file <a class="reference external" href="https://github.com/symforce-org/symforce/issues">issues</a> for bugs or desired features.</p>
<p>There are many features were excited to add to SymForce and would love to see contributed by the community. Most are outlined in the issues, but some major desired contributions are:</p>
<ul class="simple">
<li><p>Add more backend languages, such as TypeScript and GLSL/HLSL, and improvements to the experimental CUDA and PyTorch backends</p></li>
<li><p>Support for WebAssembly compilation</p></li>
<li><p>More Lie group types, in particular Sim(3)</p></li>
<li><p>Support for constraints in our optimizer</p></li>
<li><p>Integration with <a class="reference external" href="https://ispc.github.io/">ISPC</a></p></li>
<li><p>Windows and conda packages</p></li>
</ul>
</section>
</section>
<section id="guides">
<h1>Guides<a class="headerlink" href="#guides" title="Permalink to this heading">#</a></h1>
<dl class="simple">
<dt><a class="reference internal" href="development.html"><span class="doc">Development Guide</span></a></dt><dd><p>How to build, configure, and develop</p>
</dd>
<dt><a class="reference internal" href="tutorials/sympy_tutorial.html"><span class="doc">SymPy Tutorial</span></a></dt><dd><p>Basic introduction to SymPy</p>
</dd>
<dt><a class="reference internal" href="tutorials/geometry_tutorial.html"><span class="doc">Geometry Tutorial</span></a></dt><dd><p>Introductory guide to doing math and geometry</p>
</dd>
<dt><a class="reference internal" href="tutorials/ops_tutorial.html"><span class="doc">Ops Tutorial</span></a></dt><dd><p>Introductory guide to using Ops in symforce</p>
</dd>
<dt><a class="reference internal" href="tutorials/cameras_tutorial.html"><span class="doc">Cameras Tutorial</span></a></dt><dd><p>Introductory guide to using camera models</p>
</dd>
<dt><a class="reference internal" href="tutorials/values_tutorial.html"><span class="doc">Values Tutorial</span></a></dt><dd><p>How to structure large groups of symbols and expressions</p>
</dd>
<dt><a class="reference internal" href="tutorials/codegen_tutorial.html"><span class="doc">Codegen Tutorial</span></a></dt><dd><p>How to generate functions from symbolic expressions</p>
</dd>
<dt><a class="reference internal" href="tutorials/optimization_tutorial.html"><span class="doc">Optimization Tutorial</span></a></dt><dd><p>Basic example of using generated code to do optimization</p>
</dd>
<dt><a class="reference internal" href="tutorials/epsilon_tutorial.html"><span class="doc">Epsilon Tutorial</span></a></dt><dd><p>Guide to how Epsilon is used to prevent singularities</p>
</dd>
</dl>
<div class="toctree-wrapper compound">
</div>
<div class="toctree-wrapper compound">
</div>
<div class="toctree-wrapper compound">
</div>
<div class="toctree-wrapper compound" id="api-reference">
</div>
<div class="toctree-wrapper compound" id="genpy-api-reference">
</div>
<div class="toctree-wrapper compound" id="gencpp-api-reference">
</div>
<div class="toctree-wrapper compound" id="cpp-api-reference">
</div>
<div class="toctree-wrapper compound">
</div>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="development.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Development Guide</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2022, Skydio, Inc
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">SymForce Home</a><ul>
<li><a class="reference internal" href="#features">Features</a></li>
<li><a class="reference internal" href="#read-the-paper-https-arxiv-org-abs-2204-07889">Read the paper: <a href="https://arxiv.org/abs/2204.07889">https://arxiv.org/abs/2204.07889</a></a></li>
<li><a class="reference internal" href="#and-watch-the-video-https-youtu-be-qo-ltjrnj0o">And watch the video: <a href="https://youtu.be/QO_ltJRNj0o">https://youtu.be/QO_ltJRNj0o</a></a></li>
<li><a class="reference internal" href="#install">Install</a></li>
<li><a class="reference internal" href="#tutorial">Tutorial</a><ul>
<li><a class="reference internal" href="#explore-the-math">Explore the math</a></li>
<li><a class="reference internal" href="#build-an-optimization-problem">Build an optimization problem</a></li>
<li><a class="reference internal" href="#solve-the-problem">Solve the problem</a></li>
<li><a class="reference internal" href="#symbolic-vs-numerical-types">Symbolic vs Numerical Types</a></li>
<li><a class="reference internal" href="#generate-runtime-c-code">Generate runtime C++ code</a></li>
<li><a class="reference internal" href="#optimize-from-c">Optimize from C++</a></li>
</ul>
</li>
<li><a class="reference internal" href="#build-from-source">Build from Source</a><ul>
<li><a class="reference internal" href="#build-with-pip">Build with pip</a></li>
<li><a class="reference internal" href="#build-with-cmake">Build with CMake</a></li>
<li><a class="reference internal" href="#verify-your-installation">Verify your installation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#license">License</a></li>
<li><a class="reference internal" href="#sponsors">Sponsors</a></li>
<li><a class="reference internal" href="#contributing">Contributing</a></li>
</ul>
</li>
<li><a class="reference internal" href="#guides">Guides</a><ul>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=1bc1ca25"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="_static/scripts/furo.js?v=32e29ea5"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=c89b5d42"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    </body>
</html>